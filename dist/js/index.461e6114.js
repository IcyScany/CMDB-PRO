import{dU as e,dV as t,dW as o,dX as n,d as i,r,J as l,z as a,c as s,g as c,bM as d,n as u,aQ as p,s as f,aK as m,b as v,o as g,f as h,_ as w,aD as b,x as y,u as $,q as S,A as x,dY as I,dZ as C,d_ as O,T as R,C as D,D as F,v as P,bh as T,d$ as k,dm as U,e0 as j,e1 as A,a as E,e2 as L,e3 as _,bT as z,e4 as M,b3 as B,av as X,dz as H,aI as q,K as N,c4 as W,h as G,m as V,ds as J,l as K,bY as Q,c0 as Y,w as Z,bQ as ee,bw as te,cT as oe,dA as ne,t as ie,b4 as re}from"./index.872a2bd0.js";import{_ as le}from"./index.e3d002e2.js";function ae(e,t,o,n){for(var i=-1,r=null==e?0:e.length;++i<r;){var l=e[i];t(n,l,o(l),e)}return n}var se;const ce=function(e,t,o){for(var n=-1,i=Object(e),r=o(e),l=r.length;l--;){var a=r[se?l:++n];if(!1===t(i[a],a,i))break}return e};var de=function(e,o){return function(n,i){if(null==n)return n;if(!t(n))return e(n,i);for(var r=n.length,l=o?r:-1,a=Object(n);(o?l--:++l<r)&&!1!==i(a[l],l,a););return n}}((function(t,o){return t&&ce(t,o,e)}));const ue=de;function pe(e,t,o,n){return ue(e,(function(e,i,r){t(n,e,o(e),r)})),n}var fe,me;const ve=(fe=function(e,t,o){e[o?0:1].push(t)},me=function(){return[[],[]]},function(e,t){var i=o(e)?ae:pe,r=me?me():{};return i(e,fe,n(t),r)});function ge(e){const t=e.responseText||e.response;if(!t)return t;try{return JSON.parse(t)}catch(o){return t}}function he(e){const t=new XMLHttpRequest;e.onProgress&&t.upload&&(t.upload.onprogress=function(t){t.total>0&&(t.percent=t.loaded/t.total*100),e.onProgress(t)});const o=new FormData;e.data&&Object.keys(e.data).forEach((t=>{const n=e.data[t];Array.isArray(n)?n.forEach((e=>{o.append(`${t}[]`,e)})):o.append(t,n)})),e.file instanceof Blob?o.append(e.filename,e.file,e.file.name):o.append(e.filename,e.file),t.onerror=function(t){e.onError(t)},t.onload=function(){return t.status<200||t.status>=300?e.onError(function(e,t){const o=`cannot ${e.method} ${e.action} ${t.status}'`,n=new Error(o);return n.status=t.status,n.method=e.method,n.url=e.action,n}(e,t),ge(t)):e.onSuccess(ge(t),t)},t.open(e.method,e.action,!0),e.withCredentials&&"withCredentials"in t&&(t.withCredentials=!0);const n=e.headers||{};return null!==n["X-Requested-With"]&&t.setRequestHeader("X-Requested-With","XMLHttpRequest"),Object.keys(n).forEach((e=>{null!==n[e]&&t.setRequestHeader(e,n[e])})),t.send(o),{abort(){t.abort()}}}const we=+new Date;let be=0;function ye(){return`vc-upload-${we}-${++be}`}const $e=(e,t)=>{if(e&&t){const o=Array.isArray(t)?t:t.split(","),n=e.name||"",i=e.type||"",r=i.replace(/\/.*$/,"");return o.some((e=>{const t=e.trim();if(/^\*(\/\*)?$/.test(e))return!0;if("."===t.charAt(0)){const e=n.toLowerCase(),o=t.toLowerCase();let i=[o];return".jpg"!==o&&".jpeg"!==o||(i=[".jpg",".jpeg"]),i.some((t=>e.endsWith(t)))}return/\/\*$/.test(t)?r===t.replace(/\/.*$/,""):i===t||!!/^\w+$/.test(t)}))}return!0};const Se=(e,t,o)=>{const n=(e,i)=>{e.path=i||"",e.isFile?e.file((n=>{o(n)&&(e.fullPath&&!n.webkitRelativePath&&(Object.defineProperties(n,{webkitRelativePath:{writable:!0}}),n.webkitRelativePath=e.fullPath.replace(/^\//,""),Object.defineProperties(n,{webkitRelativePath:{writable:!1}})),t([n]))})):e.isDirectory&&function(e,t){const o=e.createReader();let n=[];!function e(){o.readEntries((o=>{const i=Array.prototype.slice.apply(o);n=n.concat(i),i.length?e():t(n)}))}()}(e,(t=>{t.forEach((t=>{n(t,`${i}${e.name}/`)}))}))};e.forEach((e=>{n(e.webkitGetAsEntry())}))},xe=()=>({capture:[Boolean,String],multipart:{type:Boolean,default:void 0},name:String,disabled:{type:Boolean,default:void 0},componentTag:String,action:[String,Function],method:String,directory:{type:Boolean,default:void 0},data:[Object,Function],headers:Object,accept:String,multiple:{type:Boolean,default:void 0},onBatchStart:Function,onReject:Function,onStart:Function,onError:Function,onSuccess:Function,onProgress:Function,beforeUpload:Function,customRequest:Function,withCredentials:{type:Boolean,default:void 0},openFileDialogOnClick:{type:Boolean,default:void 0},prefixCls:String,id:String,onMouseenter:Function,onMouseleave:Function,onClick:Function});var Ie=globalThis&&globalThis.__awaiter||function(e,t,o,n){return new(o||(o=Promise))((function(i,r){function l(e){try{s(n.next(e))}catch(t){r(t)}}function a(e){try{s(n.throw(e))}catch(t){r(t)}}function s(e){var t;e.done?i(e.value):(t=e.value,t instanceof o?t:new o((function(e){e(t)}))).then(l,a)}s((n=n.apply(e,t||[])).next())}))},Ce=globalThis&&globalThis.__rest||function(e,t){var o={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(o[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(o[n[i]]=e[n[i]])}return o};const Oe=i({compatConfig:{MODE:3},name:"AjaxUploader",inheritAttrs:!1,props:xe(),setup(e,t){let{slots:o,attrs:n,expose:i}=t;const u=r(ye()),p={},f=r();let m=!1;const v=(t,o)=>Ie(this,void 0,void 0,(function*(){const{beforeUpload:n}=e;let i=t;if(n){try{i=yield n(t,o)}catch(p){i=!1}if(!1===i)return{origin:t,parsedFile:null,action:null,data:null}}const{action:r}=e;let l;l="function"==typeof r?yield r(t):r;const{data:a}=e;let s;s="function"==typeof a?yield a(t):a;const c="object"!=typeof i&&"string"!=typeof i||!i?t:i;let d;d=c instanceof File?c:new File([c],t.name,{type:t.type});const u=d;return u.uid=t.uid,{origin:t,data:s,parsedFile:u,action:l}})),g=e=>{if(e){const t=e.uid?e.uid:e;p[t]&&p[t].abort&&p[t].abort(),delete p[t]}else Object.keys(p).forEach((e=>{p[e]&&p[e].abort&&p[e].abort(),delete p[e]}))};l((()=>{m=!0})),a((()=>{m=!1,g()}));const h=t=>{const o=[...t],n=o.map((e=>(e.uid=ye(),v(e,o))));Promise.all(n).then((t=>{const{onBatchStart:o}=e;null==o||o(t.map((e=>{let{origin:t,parsedFile:o}=e;return{file:t,parsedFile:o}}))),t.filter((e=>null!==e.parsedFile)).forEach((t=>{(t=>{let{data:o,origin:n,action:i,parsedFile:r}=t;if(!m)return;const{onStart:l,customRequest:a,name:s,headers:c,withCredentials:d,method:u}=e,{uid:f}=n,v=a||he,g={action:i,filename:s,data:o,file:r,headers:c,withCredentials:d,method:u||"post",onProgress:t=>{const{onProgress:o}=e;null==o||o(t,r)},onSuccess:(t,o)=>{const{onSuccess:n}=e;null==n||n(t,r,o),delete p[f]},onError:(t,o)=>{const{onError:n}=e;null==n||n(t,o,r),delete p[f]}};l(n),p[f]=v(g)})(t)}))}))},w=t=>{const{accept:o,directory:n}=e,{files:i}=t.target,r=[...i].filter((e=>!n||$e(e,o)));h(r),u.value=ye()},b=t=>{const o=f.value;if(!o)return;const{onClick:n}=e;o.click(),n&&n(t)},y=e=>{"Enter"===e.key&&b(e)},$=t=>{const{multiple:o}=e;if(t.preventDefault(),"dragover"!==t.type)if(e.directory)Se(Array.prototype.slice.call(t.dataTransfer.items),h,(t=>$e(t,e.accept)));else{const n=ve(Array.prototype.slice.call(t.dataTransfer.files),(t=>$e(t,e.accept)));let i=n[0];const r=n[1];!1===o&&(i=i.slice(0,1)),h(i),r.length&&e.onReject&&e.onReject(r)}};return i({abort:g}),()=>{var t;const{componentTag:i,prefixCls:r,disabled:l,id:a,multiple:p,accept:m,capture:v,directory:g,openFileDialogOnClick:h,onMouseenter:S,onMouseleave:x}=e,I=Ce(e,["componentTag","prefixCls","disabled","id","multiple","accept","capture","directory","openFileDialogOnClick","onMouseenter","onMouseleave"]),C={[r]:!0,[`${r}-disabled`]:l,[n.class]:!!n.class},O=g?{directory:"directory",webkitdirectory:"webkitdirectory"}:{};return s(i,c(c({},l?{}:{onClick:h?b:()=>{},onKeydown:h?y:()=>{},onMouseenter:S,onMouseleave:x,onDrop:$,onDragover:$,tabindex:"0"}),{},{class:C,role:"button",style:n.style}),{default:()=>[s("input",c(c(c({},d(I,{aria:!0,data:!0})),{},{id:a,type:"file",ref:f,onClick:e=>e.stopPropagation(),onCancel:e=>e.stopPropagation(),key:u.value,style:{display:"none"},accept:m},O),{},{multiple:p,onChange:w},null!=v?{capture:v}:{}),null),null===(t=o.default)||void 0===t?void 0:t.call(o)]})}}});function Re(){}const De=i({compatConfig:{MODE:3},name:"Upload",inheritAttrs:!1,props:u(xe(),{componentTag:"span",prefixCls:"rc-upload",data:{},headers:{},name:"file",multipart:!1,onStart:Re,onError:Re,onSuccess:Re,multiple:!1,beforeUpload:null,customRequest:null,withCredentials:!1,openFileDialogOnClick:!0}),setup(e,t){let{slots:o,attrs:n,expose:i}=t;const l=r();return i({abort:e=>{var t;null===(t=l.value)||void 0===t||t.abort(e)}}),()=>s(Oe,c(c(c({},e),n),{},{ref:l}),o)}});function Fe(){return{capture:p([Boolean,String]),type:f(),name:String,defaultFileList:m(),fileList:m(),action:p([String,Function]),directory:v(),data:p([Object,Function]),method:f(),headers:g(),showUploadList:p([Boolean,Object]),multiple:v(),accept:String,beforeUpload:h(),onChange:h(),"onUpdate:fileList":h(),onDrop:h(),listType:f(),onPreview:h(),onDownload:h(),onReject:h(),onRemove:h(),remove:h(),supportServerRender:v(),disabled:v(),prefixCls:String,customRequest:h(),withCredentials:v(),openFileDialogOnClick:v(),locale:g(),id:String,previewFile:h(),transformFile:h(),iconRender:h(),isImageUrl:h(),progress:g(),itemRender:h(),maxCount:Number,height:p([Number,String]),removeIcon:h(),downloadIcon:h(),previewIcon:h()}}function Pe(e){return w(w({},e),{lastModified:e.lastModified,lastModifiedDate:e.lastModifiedDate,name:e.name,size:e.size,type:e.type,uid:e.uid,percent:0,originFileObj:e})}function Te(e,t){const o=[...t],n=o.findIndex((t=>{let{uid:o}=t;return o===e.uid}));return-1===n?o.push(e):o[n]=e,o}function ke(e,t){const o=void 0!==e.uid?"uid":"name";return t.filter((t=>t[o]===e[o]))[0]}const Ue=e=>0===e.indexOf("image/"),je=200;const Ae=i({compatConfig:{MODE:3},name:"ListItem",inheritAttrs:!1,props:{prefixCls:String,locale:g(void 0),file:g(),items:m(),listType:f(),isImgUrl:h(),showRemoveIcon:v(),showDownloadIcon:v(),showPreviewIcon:v(),removeIcon:h(),downloadIcon:h(),previewIcon:h(),iconRender:h(),actionIconRender:h(),itemRender:h(),onPreview:h(),onClose:h(),onDownload:h(),progress:g()},setup(e,t){let{slots:o,attrs:n}=t;var i;const r=b(!1),d=b();l((()=>{d.value=setTimeout((()=>{r.value=!0}),300)})),a((()=>{clearTimeout(d.value)}));const u=b(null===(i=e.file)||void 0===i?void 0:i.status);y((()=>{var t;return null===(t=e.file)||void 0===t?void 0:t.status}),(e=>{"removed"!==e&&(u.value=e)}));const{rootPrefixCls:p}=$("upload",e),f=S((()=>x(`${p.value}-fade`)));return()=>{var t,i;const{prefixCls:l,locale:a,listType:d,file:p,items:m,progress:v,iconRender:g=o.iconRender,actionIconRender:h=o.actionIconRender,itemRender:w=o.itemRender,isImgUrl:b,showPreviewIcon:y,showRemoveIcon:$,showDownloadIcon:S,previewIcon:x=o.previewIcon,removeIcon:T=o.removeIcon,downloadIcon:k=o.downloadIcon,onPreview:U,onDownload:j,onClose:A}=e,{class:E,style:L}=n,_=g({file:p});let z=s("div",{class:`${l}-text-icon`},[_]);if("picture"===d||"picture-card"===d)if("uploading"===u.value||!p.thumbUrl&&!p.url){const e={[`${l}-list-item-thumbnail`]:!0,[`${l}-list-item-file`]:"uploading"!==u.value};z=s("div",{class:e},[_])}else{const e=(null==b?void 0:b(p))?s("img",{src:p.thumbUrl||p.url,alt:p.name,class:`${l}-list-item-image`,crossorigin:p.crossOrigin},null):_,t={[`${l}-list-item-thumbnail`]:!0,[`${l}-list-item-file`]:b&&!b(p)};z=s("a",{class:t,onClick:e=>U(p,e),href:p.url||p.thumbUrl,target:"_blank",rel:"noopener noreferrer"},[e])}const M={[`${l}-list-item`]:!0,[`${l}-list-item-${u.value}`]:!0},B="string"==typeof p.linkProps?JSON.parse(p.linkProps):p.linkProps,X=$?h({customIcon:T?T({file:p}):s(I,null,null),callback:()=>A(p),prefixCls:l,title:a.removeFile}):null,H=S&&"done"===u.value?h({customIcon:k?k({file:p}):s(C,null,null),callback:()=>j(p),prefixCls:l,title:a.downloadFile}):null,q="picture-card"!==d&&s("span",{key:"download-delete",class:[`${l}-list-item-actions`,{picture:"picture"===d}]},[H,X]),N=`${l}-list-item-name`,W=p.url?[s("a",c(c({key:"view",target:"_blank",rel:"noopener noreferrer",class:N,title:p.name},B),{},{href:p.url,onClick:e=>U(p,e)}),[p.name]),q]:[s("span",{key:"view",class:N,onClick:e=>U(p,e),title:p.name},[p.name]),q],G=y?s("a",{href:p.url||p.thumbUrl,target:"_blank",rel:"noopener noreferrer",style:p.url||p.thumbUrl?void 0:{pointerEvents:"none",opacity:.5},onClick:e=>U(p,e),title:a.previewFile},[x?x({file:p}):s(O,null,null)]):null,V="picture-card"===d&&"uploading"!==u.value&&s("span",{class:`${l}-list-item-actions`},[G,"done"===u.value&&H,X]),J=s("div",{class:M},[z,W,V,r.value&&s(R,f.value,{default:()=>[D(s("div",{class:`${l}-list-item-progress`},["percent"in p?s(le,c(c({},v),{},{type:"line",percent:p.percent}),null):null]),[[F,"uploading"===u.value]])]})]),K={[`${l}-list-item-container`]:!0,[`${E}`]:!!E},Q=p.response&&"string"==typeof p.response?p.response:(null===(t=p.error)||void 0===t?void 0:t.statusText)||(null===(i=p.error)||void 0===i?void 0:i.message)||a.uploadError,Y="error"===u.value?s(P,{title:Q,getPopupContainer:e=>e.parentNode},{default:()=>[J]}):J;return s("div",{class:K,style:L},[w?w({originNode:Y,file:p,fileList:m,actions:{download:j.bind(null,p),preview:U.bind(null,p),remove:A.bind(null,p)}}):Y])}}}),Ee=(e,t)=>{let{slots:o}=t;var n;return E(null===(n=o.default)||void 0===n?void 0:n.call(o))[0]},Le=i({compatConfig:{MODE:3},name:"AUploadList",props:u({listType:f(),onPreview:h(),onDownload:h(),onRemove:h(),items:m(),progress:g(),prefixCls:f(),showRemoveIcon:v(),showDownloadIcon:v(),showPreviewIcon:v(),removeIcon:h(),downloadIcon:h(),previewIcon:h(),locale:g(void 0),previewFile:h(),iconRender:h(),isImageUrl:h(),appendAction:h(),appendActionVisible:v(),itemRender:h()},{listType:"text",progress:{strokeWidth:2,showInfo:!1},showRemoveIcon:!0,showDownloadIcon:!1,showPreviewIcon:!0,previewFile:function(e){return new Promise((t=>{if(!e.type||!Ue(e.type))return void t("");const o=document.createElement("canvas");o.width=je,o.height=je,o.style.cssText="position: fixed; left: 0; top: 0; width: 200px; height: 200px; z-index: 9999; display: none;",document.body.appendChild(o);const n=o.getContext("2d"),i=new Image;if(i.onload=()=>{const{width:e,height:r}=i;let l=je,a=je,s=0,c=0;e>r?(a=r*(je/e),c=-(a-l)/2):(l=e*(je/r),s=-(l-a)/2),n.drawImage(i,s,c,l,a);const d=o.toDataURL();document.body.removeChild(o),t(d)},i.crossOrigin="anonymous",e.type.startsWith("image/svg+xml")){const t=new FileReader;t.addEventListener("load",(()=>{t.result&&(i.src=t.result)})),t.readAsDataURL(e)}else i.src=window.URL.createObjectURL(e)}))},isImageUrl:e=>{if(e.type&&!e.thumbUrl)return Ue(e.type);const t=e.thumbUrl||e.url||"",o=function(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").split("/"),t=e[e.length-1].split(/#|\?/)[0];return(/\.[^./\\]*$/.exec(t)||[""])[0]}(t);return!(!/^data:image\//.test(t)&&!/(webp|svg|png|gif|jpg|jpeg|jfif|bmp|dpg|ico)$/i.test(o))||!/^data:/.test(t)&&!o},items:[],appendActionVisible:!0}),setup(e,t){let{slots:o,expose:n}=t;const i=b(!1);l((()=>{i.value}));const r=b([]);y((()=>e.items),(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];r.value=e.slice()}),{immediate:!0,deep:!0}),T((()=>{if("picture"!==e.listType&&"picture-card"!==e.listType)return;let t=!1;(e.items||[]).forEach(((o,n)=>{"undefined"!=typeof document&&"undefined"!=typeof window&&window.FileReader&&window.File&&(o.originFileObj instanceof File||o.originFileObj instanceof Blob)&&void 0===o.thumbUrl&&(o.thumbUrl="",e.previewFile&&e.previewFile(o.originFileObj).then((e=>{const i=e||"";i!==o.thumbUrl&&(r.value[n].thumbUrl=i,t=!0)})))})),t&&k(r)}));const a=(t,o)=>{if(e.onPreview)return null==o||o.preventDefault(),e.onPreview(t)},d=t=>{"function"==typeof e.onDownload?e.onDownload(t):t.url&&window.open(t.url)},u=t=>{var o;null===(o=e.onRemove)||void 0===o||o.call(e,t)},p=t=>{let{file:n}=t;const i=e.iconRender||o.iconRender;if(i)return i({file:n,listType:e.listType});const r="uploading"===n.status,l=e.isImageUrl&&e.isImageUrl(n)?s(L,null,null):s(_,null,null);let a=s(r?z:M,null,null);return"picture"===e.listType?a=r?s(z,null,null):l:"picture-card"===e.listType&&(a=r?e.locale.uploading:l),a},f=e=>{const{customIcon:t,callback:o,prefixCls:n,title:i}=e,r={type:"text",size:"small",title:i,onClick:()=>{o()},class:`${n}-list-item-action`};return B(t)?s(X,r,{icon:()=>t}):s(X,r,{default:()=>[s("span",null,[t])]})};n({handlePreview:a,handleDownload:d});const{prefixCls:m,rootPrefixCls:v}=$("upload",e),g=S((()=>({[`${m.value}-list`]:!0,[`${m.value}-list-${e.listType}`]:!0}))),h=S((()=>{const t=w({},U(`${v.value}-motion-collapse`));delete t.onAfterAppear,delete t.onAfterEnter,delete t.onAfterLeave;const o=w(w({},j(`${m.value}-${"picture-card"===e.listType?"animate-inline":"animate"}`)),{class:g.value,appear:i.value});return"picture-card"!==e.listType?w(w({},t),o):o}));return()=>{const{listType:t,locale:n,isImageUrl:i,showPreviewIcon:l,showRemoveIcon:v,showDownloadIcon:g,removeIcon:b,previewIcon:y,downloadIcon:$,progress:S,appendAction:x,itemRender:I,appendActionVisible:C}=e,O=null==x?void 0:x(),R=r.value;return s(A,c(c({},h.value),{},{tag:"div"}),{default:()=>[R.map((e=>{const{uid:r}=e;return s(Ae,{key:r,locale:n,prefixCls:m.value,file:e,items:R,progress:S,listType:t,isImgUrl:i,showPreviewIcon:l,showRemoveIcon:v,showDownloadIcon:g,onPreview:a,onDownload:d,onClose:u,removeIcon:b,previewIcon:y,downloadIcon:$,itemRender:I},w(w({},o),{iconRender:p,actionIconRender:f}))})),x?D(s(Ee,{key:"__ant_upload_appendAction"},{default:()=>O}),[[F,!!C]]):null]})}}}),_e=e=>{const{componentCls:t,iconCls:o}=e;return{[`${t}-wrapper`]:{[`${t}-drag`]:{position:"relative",width:"100%",height:"100%",textAlign:"center",background:e.colorFillAlter,border:`${e.lineWidth}px dashed ${e.colorBorder}`,borderRadius:e.borderRadiusLG,cursor:"pointer",transition:`border-color ${e.motionDurationSlow}`,[t]:{padding:`${e.padding}px 0`},[`${t}-btn`]:{display:"table",width:"100%",height:"100%",outline:"none"},[`${t}-drag-container`]:{display:"table-cell",verticalAlign:"middle"},[`&:not(${t}-disabled):hover`]:{borderColor:e.colorPrimaryHover},[`p${t}-drag-icon`]:{marginBottom:e.margin,[o]:{color:e.colorPrimary,fontSize:e.uploadThumbnailSize}},[`p${t}-text`]:{margin:`0 0 ${e.marginXXS}px`,color:e.colorTextHeading,fontSize:e.fontSizeLG},[`p${t}-hint`]:{color:e.colorTextDescription,fontSize:e.fontSize},[`&${t}-disabled`]:{cursor:"not-allowed",[`p${t}-drag-icon ${o},\n            p${t}-text,\n            p${t}-hint\n          `]:{color:e.colorTextDisabled}}}}}},ze=e=>{const{componentCls:t,antCls:o,iconCls:n,fontSize:i,lineHeight:r}=e,l=`${t}-list-item`,a=`${l}-actions`,s=`${l}-action`,c=Math.round(i*r);return{[`${t}-wrapper`]:{[`${t}-list`]:w(w({},H()),{lineHeight:e.lineHeight,[l]:{position:"relative",height:e.lineHeight*i,marginTop:e.marginXS,fontSize:i,display:"flex",alignItems:"center",transition:`background-color ${e.motionDurationSlow}`,"&:hover":{backgroundColor:e.controlItemBgHover},[`${l}-name`]:w(w({},q),{padding:`0 ${e.paddingXS}px`,lineHeight:r,flex:"auto",transition:`all ${e.motionDurationSlow}`}),[a]:{[s]:{opacity:0},[`${s}${o}-btn-sm`]:{height:c,border:0,lineHeight:1,"> span":{transform:"scale(1)"}},[`\n              ${s}:focus,\n              &.picture ${s}\n            `]:{opacity:1},[n]:{color:e.colorTextDescription,transition:`all ${e.motionDurationSlow}`},[`&:hover ${n}`]:{color:e.colorText}},[`${t}-icon ${n}`]:{color:e.colorTextDescription,fontSize:i},[`${l}-progress`]:{position:"absolute",bottom:-e.uploadProgressOffset,width:"100%",paddingInlineStart:i+e.paddingXS,fontSize:i,lineHeight:0,pointerEvents:"none","> div":{margin:0}}},[`${l}:hover ${s}`]:{opacity:1,color:e.colorText},[`${l}-error`]:{color:e.colorError,[`${l}-name, ${t}-icon ${n}`]:{color:e.colorError},[a]:{[`${n}, ${n}:hover`]:{color:e.colorError},[s]:{opacity:1}}},[`${t}-list-item-container`]:{transition:`opacity ${e.motionDurationSlow}, height ${e.motionDurationSlow}`,"&::before":{display:"table",width:0,height:0,content:'""'}}})}}},Me=new N("uploadAnimateInlineIn",{from:{width:0,height:0,margin:0,padding:0,opacity:0}}),Be=new N("uploadAnimateInlineOut",{to:{width:0,height:0,margin:0,padding:0,opacity:0}}),Xe=e=>{const{componentCls:t}=e,o=`${t}-animate-inline`;return[{[`${t}-wrapper`]:{[`${o}-appear, ${o}-enter, ${o}-leave`]:{animationDuration:e.motionDurationSlow,animationTimingFunction:e.motionEaseInOutCirc,animationFillMode:"forwards"},[`${o}-appear, ${o}-enter`]:{animationName:Me},[`${o}-leave`]:{animationName:Be}}},Me,Be]},He=e=>{const{componentCls:t,iconCls:o,uploadThumbnailSize:n,uploadProgressOffset:i}=e,r=`${t}-list`,l=`${r}-item`;return{[`${t}-wrapper`]:{[`${r}${r}-picture, ${r}${r}-picture-card`]:{[l]:{position:"relative",height:n+2*e.lineWidth+2*e.paddingXS,padding:e.paddingXS,border:`${e.lineWidth}px ${e.lineType} ${e.colorBorder}`,borderRadius:e.borderRadiusLG,"&:hover":{background:"transparent"},[`${l}-thumbnail`]:w(w({},q),{width:n,height:n,lineHeight:`${n+e.paddingSM}px`,textAlign:"center",flex:"none",[o]:{fontSize:e.fontSizeHeading2,color:e.colorPrimary},img:{display:"block",width:"100%",height:"100%",overflow:"hidden"}}),[`${l}-progress`]:{bottom:i,width:`calc(100% - ${2*e.paddingSM}px)`,marginTop:0,paddingInlineStart:n+e.paddingXS}},[`${l}-error`]:{borderColor:e.colorError,[`${l}-thumbnail ${o}`]:{"svg path[fill='#e6f7ff']":{fill:e.colorErrorBg},"svg path[fill='#1890ff']":{fill:e.colorError}}},[`${l}-uploading`]:{borderStyle:"dashed",[`${l}-name`]:{marginBottom:i}}}}}},qe=e=>{const{componentCls:t,iconCls:o,fontSizeLG:n,colorTextLightSolid:i}=e,r=`${t}-list`,l=`${r}-item`,a=e.uploadPicCardSize;return{[`${t}-wrapper${t}-picture-card-wrapper`]:w(w({},H()),{display:"inline-block",width:"100%",[`${t}${t}-select`]:{width:a,height:a,marginInlineEnd:e.marginXS,marginBottom:e.marginXS,textAlign:"center",verticalAlign:"top",backgroundColor:e.colorFillAlter,border:`${e.lineWidth}px dashed ${e.colorBorder}`,borderRadius:e.borderRadiusLG,cursor:"pointer",transition:`border-color ${e.motionDurationSlow}`,[`> ${t}`]:{display:"flex",alignItems:"center",justifyContent:"center",height:"100%",textAlign:"center"},[`&:not(${t}-disabled):hover`]:{borderColor:e.colorPrimary}},[`${r}${r}-picture-card`]:{[`${r}-item-container`]:{display:"inline-block",width:a,height:a,marginBlock:`0 ${e.marginXS}px`,marginInline:`0 ${e.marginXS}px`,verticalAlign:"top"},"&::after":{display:"none"},[l]:{height:"100%",margin:0,"&::before":{position:"absolute",zIndex:1,width:`calc(100% - ${2*e.paddingXS}px)`,height:`calc(100% - ${2*e.paddingXS}px)`,backgroundColor:e.colorBgMask,opacity:0,transition:`all ${e.motionDurationSlow}`,content:'" "'}},[`${l}:hover`]:{[`&::before, ${l}-actions`]:{opacity:1}},[`${l}-actions`]:{position:"absolute",insetInlineStart:0,zIndex:10,width:"100%",whiteSpace:"nowrap",textAlign:"center",opacity:0,transition:`all ${e.motionDurationSlow}`,[`${o}-eye, ${o}-download, ${o}-delete`]:{zIndex:10,width:n,margin:`0 ${e.marginXXS}px`,fontSize:n,cursor:"pointer",transition:`all ${e.motionDurationSlow}`}},[`${l}-actions, ${l}-actions:hover`]:{[`${o}-eye, ${o}-download, ${o}-delete`]:{color:new W(i).setAlpha(.65).toRgbString(),"&:hover":{color:i}}},[`${l}-thumbnail, ${l}-thumbnail img`]:{position:"static",display:"block",width:"100%",height:"100%",objectFit:"contain"},[`${l}-name`]:{display:"none",textAlign:"center"},[`${l}-file + ${l}-name`]:{position:"absolute",bottom:e.margin,display:"block",width:`calc(100% - ${2*e.paddingXS}px)`},[`${l}-uploading`]:{[`&${l}`]:{backgroundColor:e.colorFillAlter},[`&::before, ${o}-eye, ${o}-download, ${o}-delete`]:{display:"none"}},[`${l}-progress`]:{bottom:e.marginXL,width:`calc(100% - ${2*e.paddingXS}px)`,paddingInlineStart:0}}})}},Ne=e=>{const{componentCls:t}=e;return{[`${t}-rtl`]:{direction:"rtl"}}},We=e=>{const{componentCls:t,colorTextDisabled:o}=e;return{[`${t}-wrapper`]:w(w({},K(e)),{[t]:{outline:0,"input[type='file']":{cursor:"pointer"}},[`${t}-select`]:{display:"inline-block"},[`${t}-disabled`]:{color:o,cursor:"not-allowed"}})}},Ge=G("Upload",(e=>{const{fontSizeHeading3:t,fontSize:o,lineHeight:n,lineWidth:i,controlHeightLG:r}=e,l=Math.round(o*n),a=V(e,{uploadThumbnailSize:2*t,uploadProgressOffset:l/2+i,uploadPicCardSize:2.55*r});return[We(a),_e(a),He(a),qe(a),ze(a),Xe(a),Ne(a),J(a)]}));var Ve=globalThis&&globalThis.__awaiter||function(e,t,o,n){return new(o||(o=Promise))((function(i,r){function l(e){try{s(n.next(e))}catch(t){r(t)}}function a(e){try{s(n.throw(e))}catch(t){r(t)}}function s(e){var t;e.done?i(e.value):(t=e.value,t instanceof o?t:new o((function(e){e(t)}))).then(l,a)}s((n=n.apply(e,t||[])).next())}))},Je=globalThis&&globalThis.__rest||function(e,t){var o={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(o[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(o[n[i]]=e[n[i]])}return o};const Ke=`__LIST_IGNORE_${Date.now()}__`,Qe=i({compatConfig:{MODE:3},name:"AUpload",inheritAttrs:!1,props:u(Fe(),{type:"select",multiple:!1,action:"",data:{},accept:"",showUploadList:!0,listType:"text",supportServerRender:!0}),setup(e,t){let{slots:o,attrs:n,expose:i}=t;const a=Q(),{prefixCls:d,direction:u,disabled:p}=$("upload",e),[f,m]=Ge(d),v=Y(),g=S((()=>{var e;return null!==(e=p.value)&&void 0!==e?e:v.value})),[h,b]=Z(e.defaultFileList||[],{value:ee(e,"fileList"),postState:e=>{const t=Date.now();return(null!=e?e:[]).map(((e,o)=>(e.uid||Object.isFrozen(e)||(e.uid=`__AUTO__${t}_${o}__`),e)))}}),y=r("drop"),x=r(null);l((()=>{te(void 0!==e.fileList||void 0===n.value,"Upload","`value` is not a valid prop, do you mean `fileList`?"),te(void 0===e.transformFile,"Upload","`transformFile` is deprecated. Please use `beforeUpload` directly."),te(void 0===e.remove,"Upload","`remove` props is deprecated. Please use `remove` event.")}));const I=(t,o,n)=>{var i,r;let l=[...o];1===e.maxCount?l=l.slice(-1):e.maxCount&&(l=l.slice(0,e.maxCount)),b(l);const s={file:t,fileList:l};n&&(s.event=n),null===(i=e["onUpdate:fileList"])||void 0===i||i.call(e,s.fileList),null===(r=e.onChange)||void 0===r||r.call(e,s),a.onFieldChange()},C=(t,o)=>Ve(this,void 0,void 0,(function*(){const{beforeUpload:n,transformFile:i}=e;let r=t;if(n){const e=yield n(t,o);if(!1===e)return!1;if(delete t[Ke],e===Ke)return Object.defineProperty(t,Ke,{value:!0,configurable:!0}),!1;"object"==typeof e&&e&&(r=e)}return i&&(r=yield i(r)),r})),O=e=>{const t=e.filter((e=>!e.file[Ke]));if(!t.length)return;const o=t.map((e=>Pe(e.file)));let n=[...h.value];o.forEach((e=>{n=Te(e,n)})),o.forEach(((e,o)=>{let i=e;if(t[o].parsedFile)e.status="uploading";else{const{originFileObj:t}=e;let o;try{o=new File([t],t.name,{type:t.type})}catch(r){o=new Blob([t],{type:t.type}),o.name=t.name,o.lastModifiedDate=new Date,o.lastModified=(new Date).getTime()}o.uid=e.uid,i=o}I(i,n)}))},R=(e,t,o)=>{try{"string"==typeof e&&(e=JSON.parse(e))}catch(r){}if(!ke(t,h.value))return;const n=Pe(t);n.status="done",n.percent=100,n.response=e,n.xhr=o;const i=Te(n,h.value);I(n,i)},D=(e,t)=>{if(!ke(t,h.value))return;const o=Pe(t);o.status="uploading",o.percent=e.percent;const n=Te(o,h.value);I(o,n,e)},F=(e,t,o)=>{if(!ke(o,h.value))return;const n=Pe(o);n.error=e,n.response=t,n.status="error";const i=Te(n,h.value);I(n,i)},P=t=>{let o;const n=e.onRemove||e.remove;Promise.resolve("function"==typeof n?n(t):n).then((e=>{var n,i;if(!1===e)return;const r=function(e,t){const o=void 0!==e.uid?"uid":"name",n=t.filter((t=>t[o]!==e[o]));return n.length===t.length?null:n}(t,h.value);r&&(o=w(w({},t),{status:"removed"}),null===(n=h.value)||void 0===n||n.forEach((e=>{const t=void 0!==o.uid?"uid":"name";e[t]!==o[t]||Object.isFrozen(e)||(e.status="removed")})),null===(i=x.value)||void 0===i||i.abort(o),I(o,r))}))},T=t=>{var o;y.value=t.type,"drop"===t.type&&(null===(o=e.onDrop)||void 0===o||o.call(e,t))};i({onBatchStart:O,onSuccess:R,onProgress:D,onError:F,fileList:h,upload:x});const[k]=oe("Upload",ne.Upload,S((()=>e.locale))),U=(t,n)=>{const{removeIcon:i,previewIcon:r,downloadIcon:l,previewFile:a,onPreview:c,onDownload:u,isImageUrl:p,progress:f,itemRender:m,iconRender:v,showUploadList:b}=e,{showDownloadIcon:y,showPreviewIcon:$,showRemoveIcon:S}="boolean"==typeof b?{}:b;return b?s(Le,{prefixCls:d.value,listType:e.listType,items:h.value,previewFile:a,onPreview:c,onDownload:u,onRemove:P,showRemoveIcon:!g.value&&S,showPreviewIcon:$,showDownloadIcon:y,removeIcon:i,previewIcon:r,downloadIcon:l,iconRender:v,locale:k.value,isImageUrl:p,progress:f,itemRender:m,appendActionVisible:n,appendAction:t},w({},o)):null==t?void 0:t()};return()=>{var t,i,r;const{listType:l,type:p}=e,{class:v,style:b}=n,$=Je(n,["class","style"]),S=w(w(w({onBatchStart:O,onError:F,onProgress:D,onSuccess:R},$),e),{id:null!==(t=e.id)&&void 0!==t?t:a.id.value,prefixCls:d.value,beforeUpload:C,onChange:void 0,disabled:g.value});delete S.remove,o.default&&!g.value||delete S.id;const I={[`${d.value}-rtl`]:"rtl"===u.value};if("drag"===p){const e=ie(d.value,{[`${d.value}-drag`]:!0,[`${d.value}-drag-uploading`]:h.value.some((e=>"uploading"===e.status)),[`${d.value}-drag-hover`]:"dragover"===y.value,[`${d.value}-disabled`]:g.value,[`${d.value}-rtl`]:"rtl"===u.value},n.class,m.value);return f(s("span",c(c({},n),{},{class:ie(`${d.value}-wrapper`,I,v,m.value)}),[s("div",{class:e,onDrop:T,onDragover:T,onDragleave:T,style:n.style},[s(De,c(c({},S),{},{ref:x,class:`${d.value}-btn`}),c({default:()=>[s("div",{class:`${d.value}-drag-container`},[null===(i=o.default)||void 0===i?void 0:i.call(o)])]},o))]),U()]))}const P=ie(d.value,{[`${d.value}-select`]:!0,[`${d.value}-select-${l}`]:!0,[`${d.value}-disabled`]:g.value,[`${d.value}-rtl`]:"rtl"===u.value}),k=re(null===(r=o.default)||void 0===r?void 0:r.call(o)),j=e=>s("div",{class:P,style:e},[s(De,c(c({},S),{},{ref:x}),o)]);return f("picture-card"===l?s("span",c(c({},n),{},{class:ie(`${d.value}-wrapper`,`${d.value}-picture-card-wrapper`,I,n.class,m.value)}),[U(j,!(!k||!k.length))]):s("span",c(c({},n),{},{class:ie(`${d.value}-wrapper`,I,n.class,m.value)}),[j(k&&k.length?void 0:{display:"none"}),U()]))}}});var Ye=globalThis&&globalThis.__rest||function(e,t){var o={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(o[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(o[n[i]]=e[n[i]])}return o};const Ze=i({compatConfig:{MODE:3},name:"AUploadDragger",inheritAttrs:!1,props:Fe(),setup(e,t){let{slots:o,attrs:n}=t;return()=>{const{height:t}=e,i=Ye(e,["height"]),{style:r}=n,l=Ye(n,["style"]),a=w(w(w({},i),l),{type:"drag",style:w(w({},r),{height:"number"==typeof t?`${t}px`:t})});return s(Qe,a,o)}}}),et=w(Qe,{Dragger:Ze,LIST_IGNORE:Ke,install:e=>(e.component(Qe.name,Qe),e.component(Ze.name,Ze),e)});export{et as _};
