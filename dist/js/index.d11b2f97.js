import{a3 as e,H as a,J as t,O as o,Q as s,R as n,X as i,F as l,S as c,a6 as r,am as v,$ as u,Y as p,Z as d,c as m,W as _,U as y,ah as b,ai as g,aV as w,v as k,aY as f,av as C,a9 as h,aa as P}from"./index.872a2bd0.js";import{v as V}from"./vpcApi.1d083c20.js";import{_ as D}from"./index.fc9664cf.js";const x={class:"overview-container"},j={class:"summary-box"},O=["onClick"],E={class:"summary-title"},$=["src"],R=(e=>(h("data-v-ac6cecd9"),e=e(),P(),e))((()=>i("div",{class:"summary-border"},null,-1))),A={class:"desc-box"},S={class:"desc-title"},Y={class:"desc-list"},z={class:"desc-label truncate"},F={class:"desc-value"},H={key:0},I={style:{color:"#888"}},J={key:1},L=e({__name:"index",setup(e){const h=a({overviewData:{}}),P={vpc:{label:"VPC总数",color:"#4fb050",icon:"kvstore.png",pointer:!0,view:"VPC列表",name:"vpcPage"},vpc_subnet:{label:"VPC子网总数",color:"#e88250",icon:"kvstore.png",pointer:!0,view:"VPC子网",name:"vpcSubnet"},vpc_route:{label:"VPC路由总数",color:"#3c79bf",icon:"kvstore.png",pointer:!0,view:"VPC路由",name:"vpcRoute"},vpc_peering:{label:"VPC对等连接总数",color:"#4fb050",icon:"kvstore.png",pointer:!0,view:"VPC对等连接",name:"vpcPeering"}},L={vpc_region_number:{label:"VPC区域分布",icon:!0},vpc_subnet_region_number:{label:"VPC子网区域分布",icon:!0},vpc_route_region_number:{label:"VPC路由区域分布",icon:!0},vpc_peering_region_number:{label:"VPC对等连接区域分布",icon:!0}};t((async()=>{await(async()=>{let e=await V.getOverview();Object.keys(P).forEach((a=>{h.overviewData[a]=[{count:e[`${a}_number`],[a]:P[a].label}]})),Object.keys(L).forEach((a=>{h.overviewData[a]=e[a]}))})(),await(async()=>{let e=await g.getCloudRegionList();Object.keys(h.overviewData).forEach((a=>{h.overviewData[a].forEach((a=>{a.region_id=e[a.region_id]||a.region_id}));let t=h.overviewData[a].sort(((e,a)=>a.count-e.count));t.length>5&&(h.overviewData[a]=t.slice(0,4),h.overviewData[a].push({region_id:"其他",count:t.slice(4).reduce(((e,a)=>e+a.count),0),other_data:t.slice(4)}))}))})()}));const N=()=>{window.open("/network/vpc/route-link/page","_blank")};return(e,a)=>{const t=w,g=k,V=D,Q=f,U=o("ApartmentOutlined"),W=C;return s(),n("div",x,[i("div",j,[(s(),n(l,null,c(P,((a,t)=>i("div",{key:t,class:r(["summary-item",{"cursor-pointer":a.pointer}]),style:v({"--summary-color":a.color}),onClick:t=>a.pointer?e.$router.push({name:a.name}):null},[(s(!0),n(l,null,c(u(h).overviewData[t],((e,o)=>(s(),n(l,{key:o},[i("div",null,[i("div",{class:"summary-value",style:v({"font-size":"total"===t?"32px":""})},p(e.count),5),i("div",E,p(e[t]),1)]),a.icon?(s(),n("img",{key:0,class:"summary-icon",src:`/images/${a.icon}`},null,8,$)):d("",!0),R],64)))),128))],14,O))),64))]),m(Q,{title:"资源分布"},{default:_((()=>[i("div",A,[(s(),n(l,null,c(L,((e,a)=>{var o;return i("div",{key:a,class:"desc-card"},[i("div",S,p(e.label),1),i("div",Y,[(s(!0),n(l,null,c(null==(o=u(h).overviewData)?void 0:o[a],(o=>(s(),n("div",{key:o.label},[m(g,{title:o[a]},{default:_((()=>[i("span",z,[e.icon?(s(),y(t,{key:0,type:o.cloud_source,style:{width:"22px"}},null,8,["type"])):d("",!0),b(" "+p(o.region_id)+"： ",1)])])),_:2},1032,["title"]),i("span",F,[o.other_data?(s(),n("span",H,[m(V,{placement:"right"},{content:_((()=>[(s(!0),n(l,null,c(o.other_data,((a,o)=>(s(),n("div",{key:o},[i("span",I,[e.icon?(s(),y(t,{key:0,type:a.cloud_source,style:{width:"22px"}},null,8,["type"])):d("",!0),b(" "+p(a.region_id)+": ",1)]),b(" "+p(a.count),1)])))),128))])),default:_((()=>[i("span",null,p(o.count),1)])),_:2},1024)])):(s(),n("span",J,p(o.count),1))])])))),128))])])})),64))])])),_:1}),m(Q,{title:"路由链路图"},{default:_((()=>[m(W,{type:"primary",onClick:N},{default:_((()=>[m(U),b("查看路由链路图 ")])),_:1})])),_:1})])}}},[["__scopeId","data-v-ac6cecd9"]]);export{L as default};
