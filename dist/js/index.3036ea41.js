import{a3 as s,H as e,J as a,Q as t,R as i,X as l,F as n,S as o,am as r,Y as c,Z as d,$ as u,c as m,W as v,U as f,ah as y,ai as p,aV as _,v as g,aY as w,a9 as x,aa as h}from"./index.872a2bd0.js";import{A as k}from"./extranetDomain.0df38996.js";import{_ as b}from"./index.fc9664cf.js";const D={class:"overview-container"},j={class:"summary-box"},E=["onClick"],L={class:"summary-title"},C={key:0,class:"summary-icon",src:"/images/kvstore.png"},I=(s=>(x("data-v-8f692d4f"),s=s(),h(),s))((()=>l("div",{class:"summary-border"},null,-1))),P={class:"desc-box"},R={class:"desc-title"},Y={class:"desc-list"},$={class:"desc-label truncate"},z={class:"desc-value"},A={key:0},F={style:{color:"#888"}},H={key:1},J=s({__name:"index",setup(s){const x=["#4fb050","#e88250","#3c79bf"],h={1:"启用解析",0:"暂停解析",2:"暂停解析",16:"智能切换"},J=e({overviewData:{},regionList:[]});return a((async()=>{await(async()=>{const s=await k.getOverview();J.overviewData=s,J.regionList=await p.getCloudRegionList()})(),await(async()=>{let s=J.overviewData;s.section1.forEach((s=>{var e;if("status"===(null==(e=s.fields)?void 0:e[0])){let e=s.items.findIndex((s=>0===s.status)),a=s.items.findIndex((s=>2===s.status));s.items[e].count=s.items[e].count+s.items[a].count||0,s.items.splice(a,1),s.items.forEach((s=>{s.status=h[s.status]||s.status}))}})),s.section2.forEach((s=>{var e;"regions_id"===(null==(e=s.fields)?void 0:e[0])&&s.items.forEach((s=>{s.regions_id?s.regions_id=s.regions_id.split("、").map((s=>{var e;return(null==(e=J.regionList)?void 0:e[s])||s})).join("，"):s.regions_id="其他"}))}))})()})),(s,e)=>{const a=_,p=g,h=b,k=w;return t(),i("div",D,[l("div",j,[(t(!0),i(n,null,o(u(J).overviewData.section1,((e,a)=>(t(),i("div",{key:a,class:"summary-item",style:r({"--summary-color":e.color||x[a%x.length],cursor:0===a?"pointer":"default"}),onClick:e=>0===a?s.$router.push({name:"extranetDomainPage"}):null},[(t(!0),i(n,null,o(e.items,((s,o)=>{var u;return t(),i(n,{key:o},[l("div",null,[l("div",{class:"summary-value",style:r({"font-size":"总数"===e.label?"32px":""})},c(s.count),5),l("div",L,c("总数"===e.label?e.label:s[null==(u=e.fields)?void 0:u[0]]),1)]),0===a?(t(),i("img",C)):d("",!0),I],64)})),128))],12,E)))),128))]),m(k,{title:"资源分布"},{default:v((()=>[l("div",P,[(t(!0),i(n,null,o(u(J).overviewData.section2,((s,e)=>(t(),i("div",{key:e,class:"desc-card"},[l("div",R,c(s.label),1),l("div",Y,[(t(!0),i(n,null,o(s.items,(e=>(t(),i("div",{key:e.label},[m(p,{title:e[s.fields[0]]},{default:v((()=>[l("span",$,["cloud_source"!==s.fields[0]||"自建"!==e.cloud_source?(t(),f(a,{key:0,type:e.cloud_source,style:{width:"22px"}},null,8,["type"])):d("",!0),y(" "+c(e[s.fields[0]])+"： ",1)])])),_:2},1032,["title"]),l("span",z,[e.other_data?(t(),i("span",A,[m(h,{placement:"right"},{content:v((()=>[(t(!0),i(n,null,o(e.other_data,((e,n)=>(t(),i("div",{key:n},[l("span",F,[m(a,{type:e.cloud_source,style:{width:"22px"}},null,8,["type"]),y(" "+c(e[s.fields[0]])+": ",1)]),y(" "+c(e.count),1)])))),128))])),default:v((()=>[l("span",null,c(e.count),1)])),_:2},1024)])):(t(),i("span",H,c(e.count),1))])])))),128))])])))),128))])])),_:1})])}}},[["__scopeId","data-v-8f692d4f"]]);export{J as default};
