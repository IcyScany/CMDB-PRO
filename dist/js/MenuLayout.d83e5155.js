import{a3 as e,N as a,q as t,ab as s,ac as l,O as n,Q as o,U as r,W as u,c as d,X as i,cE as p,$ as m,ah as c,Y as f,a1 as v,af as _,a9 as g,aa as x,r as y,J as h,R as j,S as k,F as w,Z as b,aw as C,ax as U}from"./index.872a2bd0.js";import{a as $,b as I,_ as L}from"./Logo.f9300135.js";import{A as D}from"./index.a6841843.js";import"./index.33c07be1.js";import{D as K}from"./dropdown.337fa54f.js";import{b as O,a as q,_ as z}from"./index.cf09da9a.js";import"./index.44a4e190.js";import"./OpsCenter_logo.4f7560d2.js";import"./useBreakpoint.e81952b0.js";import"./eagerComputed.bb706adf.js";import"./index.fc9664cf.js";const B=e=>(g("data-v-2c8dc4aa"),e=e(),x(),e),M=B((()=>i("img",{src:$,alt:"CMDB"},null,-1))),P=B((()=>i("a",{href:"javascript:;"}," 个人中心 ",-1))),R=e({__name:"UserImage",setup(e){let g=a(),x=t((()=>null==g?void 0:g.username)),y=t((()=>null==g?void 0:g.loginUserInfo)),h=s(),j=l();const k=()=>{g.handleUserLogout().then((e=>{e.status_code&&(j.meta.noPermission||h.push({name:"Login",query:{next:j.fullPath}}))}))};return(e,a)=>{const t=D,s=n("DownOutlined"),l=v,g=_,h=K;return o(),r(h,null,{overlay:u((()=>[d(g,null,{default:u((()=>[d(l,null,{default:u((()=>[P])),_:1}),d(l,null,{default:u((()=>[i("a",{onClick:p(k,["prevent"])}," 退出系统 ")])),_:1})])),_:1})])),default:u((()=>{var e,l,n;return[i("a",{class:"ant-dropdown-link",onClick:a[0]||(a[0]=p((()=>{}),["prevent"]))},[(null==(e=m(y))?void 0:e.images)&&(null==(l=m(y))?void 0:l.images.startsWith("http"))?(o(),r(t,{key:0,src:null==(n=m(y))?void 0:n.images},null,8,["src"])):(o(),r(t,{key:1},{icon:u((()=>[M])),_:1})),c("   "),i("label",null,f(m(x)),1),d(s)])]})),_:1})}}},[["__scopeId","data-v-2c8dc4aa"]]),T={style:{background:"#fff",padding:"24px",height:"100%",margin:"16px 0"}},W={__name:"MenuLayout",setup(e){let a=s();const t=y([]);return h((()=>{t.value=[a.currentRoute.value.name]})),(e,a)=>{const s=I,l=n("router-link"),p=v,m=_,g=C,x=L,y=R,h=U,$=O,D=n("router-view"),K=q,B=z;return o(),r(B,null,{default:u((()=>[d($,{style:{position:"fixed",zIndex:1,width:"100%",padding:"0 15px"}},{default:u((()=>[d(h,{justify:"space-between",type:"flex",wrap:!1},{default:u((()=>[d(g,{flex:"auto"},{default:u((()=>[d(s),d(m,{selectedKeys:t.value,"onUpdate:selectedKeys":a[0]||(a[0]=e=>t.value=e),theme:"dark",mode:"horizontal",style:{lineHeight:"64px"}},{default:u((()=>{var a,t,s,n;return["backend"===(null==(t=null==(a=e.$route)?void 0:a.meta)?void 0:t.pageType)&&(null==(n=null==(s=e.$route)?void 0:s.matched[0])?void 0:n.children)?(o(!0),j(w,{key:0},k(e.$utils.filter(e.$route.matched[0].children,(e=>!e.props)),(e=>(o(),r(p,{key:e.name},{default:u((()=>[d(l,{to:{name:e.name}},{default:u((()=>{var a;return[c(f(null==(a=e.meta)?void 0:a.title),1)]})),_:2},1032,["to"])])),_:2},1024)))),128)):b("",!0)]})),_:1},8,["selectedKeys"])])),_:1}),d(g,null,{default:u((()=>[d(h,{justify:"space-between",type:"flex",wrap:!1},{default:u((()=>[d(x),d(y)])),_:1})])),_:1})])),_:1})])),_:1}),d(K,{style:{padding:"0 15px",marginTop:"64px"}},{default:u((()=>[i("div",T,[d(D)])])),_:1})])),_:1})}}};export{W as default};
