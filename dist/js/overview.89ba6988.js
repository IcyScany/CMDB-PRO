import{a3 as e,r as s,J as a,q as t,$ as i,Q as l,R as c,X as n,F as r,S as o,am as u,Y as d,Z as v,c as m,W as y,U as p,ah as _,ai as f,aV as k,v as g,aY as b,ak as h,a9 as w,aa as j}from"./index.872a2bd0.js";import{A as x}from"./securityGroup.34f942b2.js";const E=e=>(w("data-v-0570a0b8"),e=e(),j(),e),L={key:0},O={key:0,class:"overview-container"},R={class:"summary-box"},Y={class:"summary-data"},q={class:"summary-value",style:{"font-size":"26px"}},z={class:"summary-title"},A=E((()=>n("div",{class:"summary-border"},null,-1))),C={key:0,class:"summary-icon"},F=[E((()=>n("img",{src:"/images/security-group.png"},null,-1)))],G={class:"desc-box"},H={class:"desc-title"},I={class:"desc-list"},J={class:"desc-label truncate"},P={class:"desc-value"},Q=e({__name:"overview",setup(e){const w=s({});a((async()=>{try{const e=await x.getOverview();w.value=e||{},await Q()}catch(e){}}));const j={"总数":"#4fb050","云服务商":"#e88250"},E=t((()=>w.value.section1||[])),Q=async()=>{await(async()=>{const e=await f.getCloudRegionList();if(w.value.section1){const s=w.value.section1.find((e=>"区域分布"===e.label));s&&s.items&&s.items.forEach((s=>{const a=null==e?void 0:e[s.region_id];a&&(s.region_id=a)}))}})(),await(async()=>{const e=await f.getHuaweiProjectList();if(w.value.section1){const s=w.value.section1.find((e=>"企业项目"===e.label));s&&s.items&&s.items.forEach((s=>{s.enterprise_project_id=(null==e?void 0:e[s.enterprise_project_id])||s.enterprise_project_id}))}})()},S=t((()=>{if(!E.value.length)return{};const e={};return E.value.forEach((s=>{var a;"总数"===s.label?e["总数"]={"总数":(null==(a=s.items[0])?void 0:a.count)||0}:"云服务商"===s.label&&(e["云服务商"]={},s.items.forEach((s=>{e["云服务商"][s.cloud_source]=s.count})))})),e})),U={"区域分布":{name:"区域分布",key:"region_id",items:[]},"企业项目":{name:"企业项目",key:"enterprise_project_id",items:[]}},V=t((()=>{if(!E.value.length)return U;const e={...U};return E.value.forEach((s=>{"区域分布"===s.label?e["区域分布"].items=s.items:"企业项目"===s.label&&(e["企业项目"].items=s.items)})),e}));return(e,s)=>{const a=k,t=g,f=b,x=h;return Object.keys(i(w)).length>0?(l(),c("div",L,[E.value.length>0?(l(),c("div",O,[n("div",R,[(l(!0),c(r,null,o(S.value,((e,s)=>(l(),c("div",{key:s,class:"summary-item",style:u({"--summary-color":j[s]})},[(l(!0),c(r,null,o(e,((e,s)=>(l(),c("div",{key:s},[n("div",Y,[n("div",q,d(e),1),n("div",z,d(s),1)]),A])))),128)),"总数"===s?(l(),c("div",C,F)):v("",!0)],4)))),128))]),m(f,{title:"资源分布"},{default:y((()=>[n("div",G,[(l(!0),c(r,null,o(V.value,((e,s)=>(l(),c("div",{key:s,class:"desc-card"},[n("div",H,d(e.name),1),n("div",I,[(l(!0),c(r,null,o(e.items,(s=>(l(),c("div",{key:s[e.key]},[m(t,{title:s[e.key]},{default:y((()=>[n("span",J,[s.cloud_source?(l(),p(a,{key:0,type:s.cloud_source,style:{width:"22px"}},null,8,["type"])):v("",!0),_(" "+d(s[e.key])+"： ",1)])])),_:2},1032,["title"]),n("span",P,d(s.count),1)])))),128))])])))),128))])])),_:1})])):(l(),p(x,{key:1}))])):(l(),p(x,{key:1}))}}},[["__scopeId","data-v-0570a0b8"]]);export{Q as default};
