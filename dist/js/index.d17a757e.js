import{a3 as e,H as a,J as t,Q as s,R as i,X as o,F as r,S as l,a6 as n,am as c,$ as u,Y as v,Z as d,c as m,W as p,U as y,ah as _,ai as b,aV as g,v as w,aY as k,a9 as f,aa as h}from"./index.872a2bd0.js";import{A as D}from"./virtualInterfaces.3f033592.js";import{_ as x}from"./index.fc9664cf.js";const j={class:"overview-container"},C={class:"summary-box"},E=["onClick"],O={class:"summary-title"},$=["src"],I=(e=>(f("data-v-d12d9e08"),e=e(),h(),e))((()=>o("div",{class:"summary-border"},null,-1))),R={class:"desc-box"},P={class:"desc-title"},W={class:"desc-list"},Y={class:"desc-label truncate"},z={class:"desc-value"},A={key:0},F={style:{color:"#888"}},G={key:1},H=e({__name:"index",setup(e){const f=a({overviewData:{}}),h={virtual_interfaces:{label:"云专线总数",color:"#3c79bf",icon:"kvstore.png",pointer:!0,view:"云专线列表",name:"virtualInterfaces"},direct_connects:{label:"云物理接入总数",color:"#e88250",icon:"kvstore.png",pointer:!0,view:"云物理接入列表",name:"directConnectsPage"},virtual_gateway:{label:"虚拟网关总数",color:"#4fb050",icon:"kvstore.png",pointer:!0,view:"虚拟网关列表",name:"virtualGatewayPage"},enterprise_router:{label:"企业路由器总数",color:"#4fb050",icon:"kvstore.png",pointer:!0,view:"企业路由器列表",name:"enterpriseRouter"}},H={vi_region_number:{label:"云专线区域分布",icon:!0},dc_region_number:{label:"云物理接入区域分布",icon:!0},vg_region_number:{label:"虚拟网关区域分布",icon:!0},er_region_number:{label:"企业路由器区域分布",icon:!0}};return t((async()=>{await(async()=>{let e=await D.getOverview();Object.keys(h).forEach((a=>{f.overviewData[a]=[{count:e[`${a}_number`],[a]:h[a].label}]})),Object.keys(H).forEach((a=>{f.overviewData[a]=e[a]}))})(),await(async()=>{let e=await b.getCloudRegionList();Object.keys(f.overviewData).forEach((a=>{f.overviewData[a].forEach((a=>{a.region_id=e[a.region_id]||a.region_id}));let t=f.overviewData[a].sort(((e,a)=>a.count-e.count));t.length>5&&(f.overviewData[a]=t.slice(0,4),f.overviewData[a].push({region_id:"其他",count:t.slice(4).reduce(((e,a)=>e+a.count),0),other_data:t.slice(4)}))}))})()})),(e,a)=>{const t=g,b=w,D=x,J=k;return s(),i("div",j,[o("div",C,[(s(),i(r,null,l(h,((a,t)=>o("div",{key:t,class:n(["summary-item",{"cursor-pointer":a.pointer}]),style:c({"--summary-color":a.color}),onClick:t=>a.pointer?e.$router.push({name:a.name}):null},[(s(!0),i(r,null,l(u(f).overviewData[t],((e,l)=>(s(),i(r,{key:l},[o("div",null,[o("div",{class:"summary-value",style:c({"font-size":"total"===t?"32px":""})},v(e.count),5),o("div",O,v(e[t]),1)]),a.icon?(s(),i("img",{key:0,class:"summary-icon",src:`/images/${a.icon}`},null,8,$)):d("",!0),I],64)))),128))],14,E))),64))]),m(J,{title:"资源分布"},{default:p((()=>[o("div",R,[(s(),i(r,null,l(H,((e,a)=>{var n;return o("div",{key:a,class:"desc-card"},[o("div",P,v(e.label),1),o("div",W,[(s(!0),i(r,null,l(null==(n=u(f).overviewData)?void 0:n[a],(n=>(s(),i("div",{key:n.label},[m(b,{title:n[a]},{default:p((()=>[o("span",Y,[e.icon?(s(),y(t,{key:0,type:n.cloud_source,style:{width:"22px"}},null,8,["type"])):d("",!0),_(" "+v(n.region_id)+"： ",1)])])),_:2},1032,["title"]),o("span",z,[n.other_data?(s(),i("span",A,[m(D,{placement:"right"},{content:p((()=>[(s(!0),i(r,null,l(n.other_data,((a,r)=>(s(),i("div",{key:r},[o("span",F,[e.icon?(s(),y(t,{key:0,type:a.cloud_source,style:{width:"22px"}},null,8,["type"])):d("",!0),_(" "+v(a.region_id)+": ",1)]),_(" "+v(a.count),1)])))),128))])),default:p((()=>[o("span",null,v(n.count),1)])),_:2},1024)])):(s(),i("span",G,v(n.count),1))])])))),128))])])})),64))])])),_:1})])}}},[["__scopeId","data-v-d12d9e08"]]);export{H as default};
