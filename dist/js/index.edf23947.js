import{_ as e}from"./index.7d980246.js";import{h as t,m as a,_ as l,aI as i,l as o,d as s,aJ as n,r,x as u,q as d,z as c,c as m,T as p,I as v,aO as f,aP as _,n as y,u as g,aD as b,g as k,t as h,aK as w,b as C,s as x,aQ as S,f as $,aC as A,aR as P,aS as z,al as L,i as j,Q as D,U as R,W as T,$ as I,ah as E,Y as U,v as O,au as B,O as H,R as M,F as N,Z as q,S as F,X as G,aT as W,a8 as K,aN as X,a3 as Y,aU as V,ao as J,a7 as Q,av as Z,a9 as ee,aa as te,H as ae,J as le,a6 as ie,ad as oe,aV as se,p as ne,C as re,D as ue,aW as de,aX as ce,ak as me}from"./index.872a2bd0.js";import{t as pe}from"./tableRender.a6ff99b7.js";import{_ as ve}from"./index.029351cd.js";import{_ as fe}from"./index.48209b21.js";import{c as _e}from"./cmdbEntityFormInit.bd634033.js";import{o as ye,_ as ge,u as be}from"./opsFormInit.3a4e1794.js";import{_ as ke}from"./index.6f715054.js";import{_ as he}from"./RadioButton.534ff50d.js";import"./index.6e2fd079.js";import{_ as we}from"./Group.b415afa6.js";import{_ as Ce}from"./index.9846e408.js";import{s as xe,_ as Se}from"./subPage.2201bfd5.js";import{_ as $e}from"./index.d14a666b.js";import"./index.2c670fa1.js";import"./opsTable.7b07fc7b.js";import"./alertLevel.8dae0e72.js";import"./index.64f8d8d4.js";import"./successModal.c280f18f.js";import"./index.44a4e190.js";import"./index.65b2e021.js";import"./index.fe8e77ef.js";import"./Checkbox.ddee6d58.js";import"./useBreakpoint.e81952b0.js";import"./index.e3d002e2.js";import"./opsDescriptions.dfa169bd.js";import"./index.87ccdcd1.js";import"./index.fc9664cf.js";import"./index.a533313d.js";function Ae(e,t){return{[`${e}, ${e}:hover, ${e}:focus`]:{color:t.colorTextDisabled,cursor:"not-allowed"}}}function Pe(e){return{backgroundColor:e.bgColorSelected,boxShadow:e.boxShadow}}const ze=l({overflow:"hidden"},i),Le=e=>{const{componentCls:t}=e;return{[t]:l(l(l(l(l({},o(e)),{display:"inline-block",padding:e.segmentedContainerPadding,color:e.labelColor,backgroundColor:e.bgColor,borderRadius:e.borderRadius,transition:`all ${e.motionDurationMid} ${e.motionEaseInOut}`,[`${t}-group`]:{position:"relative",display:"flex",alignItems:"stretch",justifyItems:"flex-start",width:"100%"},[`&${t}-rtl`]:{direction:"rtl"},[`&${t}-block`]:{display:"flex"},[`&${t}-block ${t}-item`]:{flex:1,minWidth:0},[`${t}-item`]:{position:"relative",textAlign:"center",cursor:"pointer",transition:`color ${e.motionDurationMid} ${e.motionEaseInOut}`,borderRadius:e.borderRadiusSM,"&-selected":l(l({},Pe(e)),{color:e.labelColorHover}),"&::after":{content:'""',position:"absolute",width:"100%",height:"100%",top:0,insetInlineStart:0,borderRadius:"inherit",transition:`background-color ${e.motionDurationMid}`,pointerEvents:"none"},[`&:hover:not(${t}-item-selected):not(${t}-item-disabled)`]:{color:e.labelColorHover,"&::after":{backgroundColor:e.bgColorHover}},"&-label":l({minHeight:e.controlHeight-2*e.segmentedContainerPadding,lineHeight:e.controlHeight-2*e.segmentedContainerPadding+"px",padding:`0 ${e.segmentedPaddingHorizontal}px`},ze),"&-icon + *":{marginInlineStart:e.marginSM/2},"&-input":{position:"absolute",insetBlockStart:0,insetInlineStart:0,width:0,height:0,opacity:0,pointerEvents:"none"}},[`${t}-thumb`]:l(l({},Pe(e)),{position:"absolute",insetBlockStart:0,insetInlineStart:0,width:0,height:"100%",padding:`${e.paddingXXS}px 0`,borderRadius:e.borderRadiusSM,[`& ~ ${t}-item:not(${t}-item-selected):not(${t}-item-disabled)::after`]:{backgroundColor:"transparent"}}),[`&${t}-lg`]:{borderRadius:e.borderRadiusLG,[`${t}-item-label`]:{minHeight:e.controlHeightLG-2*e.segmentedContainerPadding,lineHeight:e.controlHeightLG-2*e.segmentedContainerPadding+"px",padding:`0 ${e.segmentedPaddingHorizontal}px`,fontSize:e.fontSizeLG},[`${t}-item, ${t}-thumb`]:{borderRadius:e.borderRadius}},[`&${t}-sm`]:{borderRadius:e.borderRadiusSM,[`${t}-item-label`]:{minHeight:e.controlHeightSM-2*e.segmentedContainerPadding,lineHeight:e.controlHeightSM-2*e.segmentedContainerPadding+"px",padding:`0 ${e.segmentedPaddingHorizontalSM}px`},[`${t}-item, ${t}-thumb`]:{borderRadius:e.borderRadiusXS}}}),Ae(`&-disabled ${t}-item`,e)),Ae(`${t}-item-disabled`,e)),{[`${t}-thumb-motion-appear-active`]:{transition:`transform ${e.motionDurationSlow} ${e.motionEaseInOut}, width ${e.motionDurationSlow} ${e.motionEaseInOut}`,willChange:"transform, width"}})}},je=t("Segmented",(e=>{const{lineWidthBold:t,lineWidth:l,colorTextLabel:i,colorText:o,colorFillSecondary:s,colorBgLayout:n,colorBgElevated:r}=e,u=a(e,{segmentedPaddingHorizontal:e.controlPaddingHorizontal-l,segmentedPaddingHorizontalSM:e.controlPaddingHorizontalSM-l,segmentedContainerPadding:t,labelColor:i,labelColorHover:o,bgColor:n,bgColorHover:s,bgColorSelected:r});return[Le(u)]})),De=e=>e?{left:e.offsetLeft,right:e.parentElement.clientWidth-e.clientWidth-e.offsetLeft,width:e.clientWidth}:null,Re=e=>void 0!==e?`${e}px`:void 0,Te=s({props:{value:n(),getValueIndex:n(),prefixCls:n(),motionName:n(),onMotionStart:n(),onMotionEnd:n(),direction:n(),containerRef:n()},emits:["motionStart","motionEnd"],setup(e,t){let{emit:a}=t;const l=r(),i=t=>{var a;const l=e.getValueIndex(t),i=null===(a=e.containerRef.value)||void 0===a?void 0:a.querySelectorAll(`.${e.prefixCls}-item`)[l];return(null==i?void 0:i.offsetParent)&&i},o=r(null),s=r(null);u((()=>e.value),((e,t)=>{const l=i(t),n=i(e),r=De(l),u=De(n);o.value=r,s.value=u,a(l&&n?"motionStart":"motionEnd")}),{flush:"post"});const n=d((()=>{var t,a;return"rtl"===e.direction?Re(-(null===(t=o.value)||void 0===t?void 0:t.right)):Re(null===(a=o.value)||void 0===a?void 0:a.left)})),y=d((()=>{var t,a;return"rtl"===e.direction?Re(-(null===(t=s.value)||void 0===t?void 0:t.right)):Re(null===(a=s.value)||void 0===a?void 0:a.left)}));let g;const b=e=>{clearTimeout(g),v((()=>{e&&(e.style.transform="translateX(var(--thumb-start-left))",e.style.width="var(--thumb-start-width)")}))},k=t=>{g=setTimeout((()=>{t&&(f(t,`${e.motionName}-appear-active`),t.style.transform="translateX(var(--thumb-active-left))",t.style.width="var(--thumb-active-width)")}))},h=t=>{o.value=null,s.value=null,t&&(t.style.transform=null,t.style.width=null,_(t,`${e.motionName}-appear-active`)),a("motionEnd")},w=d((()=>{var e,t;return{"--thumb-start-left":n.value,"--thumb-start-width":Re(null===(e=o.value)||void 0===e?void 0:e.width),"--thumb-active-left":y.value,"--thumb-active-width":Re(null===(t=s.value)||void 0===t?void 0:t.width)}}));return c((()=>{clearTimeout(g)})),()=>{const t={ref:l,style:w.value,class:[`${e.prefixCls}-thumb`]};return m(p,{appear:!0,onBeforeEnter:b,onEnter:k,onAfterEnter:h},{default:()=>[o.value&&s.value?m("div",t,null):null]})}}});const Ie=(e,t)=>{let{slots:a,emit:l}=t;const{value:i,disabled:o,payload:s,title:n,prefixCls:r,label:u=a.label,checked:d,className:c}=e;return m("label",{class:h({[`${r}-item-disabled`]:o},c)},[m("input",{class:`${r}-item-input`,type:"radio",disabled:o,checked:d,onChange:e=>{o||l("change",e,i)}},null),m("div",{class:`${r}-item-label`,title:"string"==typeof n?n:""},["function"==typeof u?u({value:i,disabled:o,payload:s,title:n}):null!=u?u:i])])};Ie.inheritAttrs=!1;const Ee=A(s({name:"ASegmented",inheritAttrs:!1,props:y({prefixCls:String,options:w(),block:C(),disabled:C(),size:x(),value:l(l({},S([String,Number])),{required:!0}),motionName:String,onChange:$(),"onUpdate:value":$()},{options:[],motionName:"thumb-motion"}),slots:Object,setup(e,t){let{emit:a,slots:l,attrs:i}=t;const{prefixCls:o,direction:s,size:n}=g("segmented",e),[r,u]=je(o),c=b(),p=b(!1),v=d((()=>e.options.map((e=>"object"==typeof e&&null!==e?e:{label:null==e?void 0:e.toString(),title:null==e?void 0:e.toString(),value:e})))),f=(t,l)=>{e.disabled||(a("update:value",l),a("change",l))};return()=>{const t=o.value;return r(m("div",k(k({},i),{},{class:h(t,{[u.value]:!0,[`${t}-block`]:e.block,[`${t}-disabled`]:e.disabled,[`${t}-lg`]:"large"==n.value,[`${t}-sm`]:"small"==n.value,[`${t}-rtl`]:"rtl"===s.value},i.class),ref:c}),[m("div",{class:`${t}-group`},[m(Te,{containerRef:c,prefixCls:t,value:e.value,motionName:`${t}-${e.motionName}`,direction:s.value,getValueIndex:e=>v.value.findIndex((t=>t.value===e)),onMotionStart:()=>{p.value=!0},onMotionEnd:()=>{p.value=!1}},null),v.value.map((a=>m(Ie,k(k({key:a.value,prefixCls:t,checked:a.value===e.value,onChange:f},a),{},{className:h(a.className,`${t}-item`,{[`${t}-item-selected`]:a.value===e.value&&!p.value}),disabled:!!e.disabled||!!a.disabled}),l)))])]))}}})),Ue="cloud-manage/cloud-account/",Oe={getAccountListApi:async()=>P.get(`${Ue}list`),getAccountOneListApi:async e=>P.get(`${Ue}list/${e}`),getAccountRegionsApi:e=>P.get(`${Ue}regions/${e}/list`),getAccountEnterpriseProjectApi:e=>P.get(`${Ue}enterprise-project/${e}/list`),postCheckAccount:e=>P.post(`${Ue}check-account`,e),postAddAccount:e=>P.post(`${Ue}add-account`,e),putEditAccount:(e,t)=>P.put(`${Ue}edit-account/${e}`,t),putEditReginAccount:(e,t,a)=>P.put(`${Ue}edit-regions/${e}/${t}`,a)},Be={getList:async e=>P.get(`${Ue}sub-account/${e}/list`),getDetail:async({sid:e,id:t})=>P.get(`${Ue}sub-account/${e}/list/${t}`)},He={getList:async e=>P.get(`${Ue}sub-account-ak/${e}/list`)};function Me({okCallBack:e,cancelCallBack:t,tip:a,otherNode:l=[],okText:i="是",cancelText:o="否",title:s="",icon:n="vxe-icon-warning-triangle-fill",width:r=420,other_props:u={}}){const d=e=>{if(e)return"function"==typeof e?e:()=>e.api(e.data)};z.confirm({title:s,width:r,class:"ops-confirm-modal",icon:m("span",{class:`${n} text-warning`,style:{display:"inline-block",marginRight:"8px"}},a),content:m("div",{class:"ops-confirm-content text-warning"},[...l]),okText:i,cancelText:o,onOk:d(e),onCancel:d(t),...u})}const Ne={__name:"CloudAccountReginList",props:{open:{type:Boolean,default:!1},oneData:{type:Object,default:()=>({})},listType:{type:String,default:""}},emits:["update:open"],setup(t,{emit:a}){let l=t,{oneData:i,listType:o,open:s}=L(l);const n=a,u=r(null);let c=j("button"),p=d((()=>{let e={edit_region:!1};if(c.value)for(let t of c.value){let{field:a}=t;if("edit-regions"===a)e.edit_region=t}return e}));const v=e=>{var t,a;e&&(u.value&&(null==(t=u.value)||t.getDom().sort("regions_list"===o.value?"sync_status":"status","desc")),u.value&&(null==(a=u.value)||a.commitRequest()))},f=()=>{n("update:open",!1)},_=[{field:"name",title:"名称",sortable:!0},{field:"cn_name",title:"中文名",sortable:!0},{field:"en_name",title:"英文名",sortable:!0},{field:"sync_status",title:"数据同步状态",sortable:!0,slots:{default:"sync_status"}}],y=[{field:"name",title:"名称",sortable:!0},{field:"projects_type",title:"类型",sortable:!0},{field:"status",title:"状态",sortable:!0,slots:{default:"status"}}];let g=r({});const b=()=>{var e;u.value.tableLoading=!0;let t={[g.value.field]:g.value.checked};Oe.putEditReginAccount(null==(e=i.value)?void 0:e.id,g.value.row.id,t).then((()=>{u.value.tableLoading=!1,v(!0)})).catch((()=>{u.value.tableLoading=!1}))};return(t,a)=>{const l=fe,n=O,r=B,d=e,c=ve;return D(),R(c,{open:I(s),title:`${t.$route.meta.title}的【${I(i).primary_username}】${"regions_list"===I(o)?"可用区":"企业项目"}信息`,onAfterOpenChange:v,onClose:f},{default:T((()=>{var e;return[m(d,{ref_key:"cloudRegionTableRef",ref:u,columns:"regions_list"===I(o)?_:y,"request-config":{api:I(i).id&&"regions_list"===I(o)?I(Oe).getAccountRegionsApi:I(Oe).getAccountEnterpriseProjectApi,params:null==(e=I(i))?void 0:e.id,immediate:!1},"filter-config":{remote:!1,showIcon:!0},"default-order":{field:"regions_list"===I(o)?"sync_status":"status",order:"desc"}},{sync_status:T((({row:e})=>[m(n,{title:e.sync_status?"打开为自动同步此区域的数据到CMDB系统":"关闭表示对应数据会全部清除"},{default:T((()=>{var t,a;return[m(l,{checked:e.sync_status,"checked-value":1,"un-checked-value":0,"checked-children":"开","un-checked-children":"关",disabled:!(null==(a=null==(t=I(p))?void 0:t.edit_region)?void 0:a.page_display),onChange:t=>(async(e,t,a)=>{g.value={row:e,field:t,checked:a},Me(a?{okCallBack:{api:b},tip:"开启此同步后，为自动同步此区域的数据到CMDB系统,确认是否开启"}:{okCallBack:{api:b},tip:"关闭此同步后，对应数据会全部清除,确认是否关闭"})})(e,"sync_status",t)},null,8,["checked","disabled","onChange"])]})),_:2},1032,["title"])])),status:T((({row:e})=>[m(r,{color:1===e.status?"green":""},{default:T((()=>[E(U(1===e.status?"正常":"禁用"),1)])),_:2},1032,["color"])])),_:1},8,["columns","request-config","default-order"])]})),_:1},8,["open","title"])}}},qe=G("span",{class:"text-error"},"* 请先进行检测才能提交 ",-1),Fe={__name:"Edit",props:{open:{type:Boolean,default:!1},sid:{type:[String,Number],default:""},formType:{type:Number}},emits:["update:open","editSuccess"],setup(e,{emit:t}){const a=e,{open:l,sid:i,formType:o}=L(a),s=t;let n=r(null);const{postAddAccount:u,getAccountOneListApi:d,putEditAccount:c}=Oe;let{formRenderContent:p,formDataLoading:v,confirmLoading:f,initForm:_,formDataInit:y,editSubmit:g}=ye({formRef:n,editTitleLayer:1,formType:o,sid:i,emits:s,addApi:u,editApi:c,oneDataApi:d,customSubmitData:async e=>{let t=["access_key","security_key","status","password","page_display","association_mobile","association_mail","virtual_team_v3_id","describe","write_access_key","write_security_key"];e.password&&(e.password=await W(e.password));let a={};for(let l in t)a[t[l]]=e[t[l]];return a},customTitleInit:async()=>{var e,t,a,l;(null==(l=null==(a=null==(t=null==(e=p.value)?void 0:e.rules)?void 0:t.security_key)?void 0:a[0])?void 0:l.required)&&(p.value.rules.security_key[0].required=!1)}});const b=()=>{s("update:open",!1)},k=async e=>{var t,a,l,i;e&&(await _(),await y(),(null==(i=null==(l=null==(a=null==(t=p.value)?void 0:t.rules)?void 0:a.security_key)?void 0:l[0])?void 0:i.required)&&(p.value.rules.security_key[0].required=!1),p.value.formState.write_access_key!==p.value.formState.access_key?p.value.formState.key_permissions="只读":p.value.formState.key_permissions="读写")};let h=r([]),w=r(!1),C=r(!1);const x=async()=>{if(p.value.formState.check_msg="",p.value.formState.regions_list=[],h.value=[],C.value=!1,p.value.formState.access_key&&p.value.formState.security_key&&p.value.formState.cloud_type){w.value=!0;let e=await W(p.value.formState.security_key),t=await W(p.value.formState.write_security_key),a={};a="只读"===p.value.formState.key_permissions?{write_access_key:p.value.formState.write_access_key,write_security_key:t}:"读写"===p.value.formState.key_permissions?{write_access_key:p.value.formState.access_key,write_security_key:e}:{write_access_key:null,write_security_key:p.value.formState.write_security_key?t:null},Oe.postCheckAccount({cloud_type:p.value.formState.cloud_type,access_key:p.value.formState.access_key,security_key:e,...a}).then((e=>{w.value=!1;for(let t in e)p.value.formState[t]=e[t];h.value=e.enterprise_projects||[],C.value=!0})).catch((e=>{let t=e.response.data.message||e.response.data.msg;p.value.formState.check_msg=t,w.value=!1,C.value=!1}))}},S={access_key:"用户名",security_key:"密码"},$=["username","primary_username","password","enterprise_projects","regions_list","write_access_key","write_security_key","key_permissions"];return(e,t)=>{const a=ge,i=K,s=X,r=H("vxe-button"),u=ve;return I(o)===e.$CONFIG.FORM_TYPE.EDIT_TYPE?(D(),R(u,{key:0,title:`${e.$route.meta.title}编辑`,open:I(l),onAfterOpenChange:k,onClose:b},{footer:T((()=>{var e,t,a,l,i,o,s,n,u,d,c,v;return[(null==(t=null==(e=I(p))?void 0:e.formState)?void 0:t.access_key)&&(null==(l=null==(a=I(p))?void 0:a.formState)?void 0:l.security_key)&&(null==(o=null==(i=I(p))?void 0:i.formState)?void 0:o.cloud_type)?(D(),M(N,{key:0},[qe,m(r,{loading:I(w),content:"检测",status:"primary",onClick:x},null,8,["loading"])],64)):q("",!0),m(r,{content:"取消",onClick:b}),m(r,{type:"submit",loading:I(f),disabled:!!((null==(n=null==(s=I(p))?void 0:s.formState)?void 0:n.access_key)&&(null==(d=null==(u=I(p))?void 0:u.formState)?void 0:d.security_key)&&(null==(v=null==(c=I(p))?void 0:c.formState)?void 0:v.cloud_type))&&!I(C),status:"primary",content:"提交",onClick:I(g)},null,8,["loading","disabled","onClick"])]})),default:T((()=>[m(s,{spinning:I(v)},{default:T((()=>[m(i,{ref_key:"formRef",ref:n,model:I(p).formState,rules:I(p).rules},{default:T((()=>[(D(!0),M(N,null,F(e.$utils.filter(I(p).title,(e=>e.edit_display&&-1===["regions_list","enterprise_projects"].indexOf(e.field)&&("zdns"!==I(p).formState.cloud_type.toLowerCase()||!$.includes(e.field)))),(t=>{var l,i,o,s,n,r;return D(),M(N,{key:t.field},["write_access_key"===t.field||"write_security_key"===t.field?(D(),M(N,{key:0},["只读"===I(p).formState.key_permissions?(D(),R(a,{key:0,value:I(p).formState[t.field],"onUpdate:value":e=>I(p).formState[t.field]=e,title:t,disabled:"preview"===(null==(i=null==(l=e.steps)?void 0:l[e.current])?void 0:i.use),"title-data":null==(s=null==(o=I(p))?void 0:o.title_data)?void 0:s[t.field],label:void 0,"label-col":{span:3},onChange:e.handlerKeyPermissionsChange},{label:T((()=>[E(U("zdns"===I(p).formState.cloud_type.toLowerCase()&&S[t.field]?S[t.field]:t.field_name),1)])),_:2},1032,["value","onUpdate:value","title","disabled","title-data","onChange"])):q("",!0)],64)):(D(),R(a,{key:1,value:I(p).formState[t.field],"onUpdate:value":e=>I(p).formState[t.field]=e,title:t,"title-data":null==(r=null==(n=I(p))?void 0:n.title_data)?void 0:r[t.field],label:void 0},{label:T((()=>[E(U("zdns"===I(p).formState.cloud_type.toLowerCase()&&S[t.field]?S[t.field]:t.field_name),1)])),_:2},1032,["value","onUpdate:value","title","title-data"]))],64)})),128))])),_:1},8,["model","rules"])])),_:1},8,["spinning"])])),_:1},8,["title","open"])):q("",!0)}}},Ge=e=>(ee("data-v-cc65722b"),e=e(),te(),e),We={class:"steps-content"},Ke=Ge((()=>G("h3",null,[G("b",null,"选择公有云")],-1))),Xe={key:0},Ye=[Ge((()=>G("b",null,"账号密钥信息",-1)))],Ve={key:1},Je=[Ge((()=>G("b",null,"录入账号密钥",-1)))],Qe={class:"text-error"},Ze=Ge((()=>G("b",null,"验证结果",-1))),et=Y({__name:"Add",props:{open:{type:Boolean,default:!1},sid:{type:[String,Number],default:""},formType:{type:Number}},emits:["update:open","editSuccess"],setup(e,{emit:t}){const a=e,{open:l,sid:i,formType:o}=L(a),s=t;let n=r(null);const{postAddAccount:u,getAccountOneListApi:c,putEditAccount:p}=Oe;let{formRenderContent:v,formDataLoading:f,confirmLoading:_,initForm:y,formDataInit:g,editSubmit:b}=ye({formRef:n,editTitleLayer:1,formType:o,sid:i,emits:s,addApi:u,editApi:p,oneDataApi:c,customSubmitData:async e=>(e.password&&(e.password=await W(e.password)),"zdns"===e.cloud_type.toLowerCase()&&(e.username=e.access_key,e.primary_username=e.access_key),delete e.key_permissions,e)});const k=r(0),h=()=>{n.value.validate().then((()=>{0===k.value?z():k.value++})).catch((e=>{}))},w=()=>{k.value--},C=[{title:"选择云环境",content:"First-content"},{title:"账号设置",content:"Second-content"},{title:"选择区域",content:"Last-content"},{title:"预览",use:"preview",content:"preview"}],x=d((()=>{var e,t;return"zdns"===(null==(t=null==(e=v.value)?void 0:e.formState)?void 0:t.cloud_type.toLowerCase())?C.filter((e=>"Last-content"!==e.content)):C})),S=d((()=>x.value.filter((({title:e,use:t})=>({key:e,title:e,use:t})))));let $=r([]),A=r(!1),P=r(!1);const z=async()=>{if(v.value.formState.check_msg="",v.value.formState.regions_list=[],$.value=[],P.value=!1,v.value.formState.access_key&&v.value.formState.security_key&&v.value.formState.cloud_type){A.value=!0;let e=await W(v.value.formState.security_key),t={},a=await W(v.value.formState.write_security_key);t="只读"===v.value.formState.key_permissions?{write_access_key:v.value.formState.write_access_key,write_security_key:a}:"读写"===v.value.formState.key_permissions?{write_access_key:v.value.formState.access_key,write_security_key:e}:{write_access_key:null,write_security_key:v.value.formState.write_security_key?a:null},Oe.postCheckAccount({cloud_type:v.value.formState.cloud_type,access_key:v.value.formState.access_key,security_key:e,...t}).then((e=>{A.value=!1;for(let t in e)v.value.formState[t]=e[t];$.value=e.enterprise_projects||[],P.value=!0,k.value++})).catch((e=>{let t=e.response.data.message||e.response.data.msg;v.value.formState.check_msg=t,A.value=!1,P.value=!1}))}},j=[{field:"name",title:"名称",sortable:!0},{field:"cn_name",title:"中文名",sortable:!0},{field:"en_name",title:"英文名",sortable:!0},{field:"sync_status",title:"数据同步状态",sortable:!0,slots:{default:"sync_status"}}],X=[{field:"name",title:"名称",sortable:!0},{field:"type",title:"类型",sortable:!0},{field:"status",title:"状态",sortable:!0,slots:{default:"status"}}];let Y={size:"mini",stripe:!0,border:!0};const ee={marginBottom:"20px",boxShadow:"0px -1px 0 0 #e8e8e8 inset"},te=()=>{(async e=>{e&&(await y(),await g())})(!0),k.value=0};function ae(){s("update:open",!1)}const le={access_key:"用户名",security_key:"密码"},ie=["username","primary_username","password","enterprise_projects","regions_list","write_access_key","write_security_key","key_permissions"];return(e,t)=>{const a=ke,i=J,s=he,r=we,u=ge,d=Ce,c=fe,p=O,y=H("vxe-grid"),g=B,C=Q,A=K,P=Z,z=H("vxe-modal");return I(o)===e.$CONFIG.FORM_TYPE.ADD_TYPE?(D(),R(z,{key:0,"model-value":I(l),"show-footer":"",resize:"",title:`${e.$route.meta.title}新增`,loading:I(f),onShow:te,onClose:ae,onHide:ae},{footer:T((()=>[I(k)>0?(D(),R(P,{key:0,style:{"margin-left":"8px"},onClick:w},{default:T((()=>[E("上一步")])),_:1})):q("",!0),E("    "),I(k)<I(x).length-1?(D(),R(P,{key:1,type:"primary",onClick:h},{default:T((()=>[E("下一步")])),_:1})):q("",!0),E("    "),I(k)==I(x).length-1?(D(),R(P,{key:2,loading:I(_),type:"primary",onClick:I(b)},{default:T((()=>[E(" 提交 ")])),_:1},8,["loading","onClick"])):q("",!0)])),default:T((()=>[m(a,{current:I(k),items:I(S),type:"navigation",size:"small",style:ee},null,8,["current","items"]),G("div",We,[m(A,{ref_key:"formRef",ref:n,model:I(v).formState,rules:I(v).rules,"label-col":{span:3},"label-align":"left"},{default:T((()=>{var t,a;return[(D(!0),M(N,null,F(e.$utils.filter(I(v).title,(e=>{var t,a;return e.block===I(k)+1&&e.edit_display&&"status"!==e.field||"preview"===(null==(a=null==(t=I(x))?void 0:t[I(k)])?void 0:a.use)&&e.edit_display})),((t,a)=>{var l,o,n,f,_,b,h,w,C,S,A,P,z,L,O,B,H,W,K,J;return D(),M(N,{key:t.field},["cloud_type"===t.field?(D(),M(N,{key:0},[m(u,{title:t,label:void 0,disabled:"preview"===(null==(o=null==(l=I(x))?void 0:l[I(k)])?void 0:o.use),"title-data":null==(f=null==(n=I(v))?void 0:n.title_data)?void 0:f[t.field],"label-col":{span:3}},{default:T((()=>{var e,a;return[Ke,m(r,{value:I(v).formState[t.field],"onUpdate:value":e=>I(v).formState[t.field]=e,size:"large",disabled:"preview"===(null==(a=null==(e=I(x))?void 0:e[I(k)])?void 0:a.use)},{default:T((()=>[(D(!0),M(N,null,F(I(v).title_data[t.field],(e=>(D(),R(s,{key:e.value,value:e.value,"button-style":"solid"},{default:T((()=>[m(i,{iconname:`icon-${e.icon}`,class:"menu-icon",style:{"font-size":"50px",width:"6rem"}},null,8,["iconname"])])),_:2},1032,["value"])))),128))])),_:2},1032,["value","onUpdate:value","disabled"])]})),_:2},1032,["title","disabled","title-data"]),"preview"===(null==(b=null==(_=I(x))?void 0:_[I(k)])?void 0:b.use)?(D(),R(d,{key:0,style:{height:"2px","background-color":"rgba(204,204,204,0.6)"}})):q("",!0)],64)):"regions_list"===t.field?(D(),M(N,{key:1},["zdns"!==I(v).formState.cloud_type.toLowerCase()?(D(),M(N,{key:0},["preview"===(null==(w=null==(h=I(x))?void 0:h[I(k)])?void 0:w.use)?(D(),R(d,{key:0,style:{height:"2px","background-color":"rgba(204,204,204,0.6)"}})):q("",!0),G("h3",null,[G("b",null,U(t.field_name),1)]),G("div",null,[m(y,V({ref_for:!0},I(Y),{columns:j,data:I(v).formState[t.field]}),{sync_status:T((({row:e})=>[m(p,{title:"打开为自动同步此区域的数据到CMDB系统"},{default:T((()=>{var t,a;return[m(c,{checked:e.sync_status,"checked-value":1,"un-checked-value":0,disabled:"preview"===(null==(a=null==(t=I(x))?void 0:t[I(k)])?void 0:a.use),"checked-children":"开","un-checked-children":"关",onChange:t=>e.sync_status=t},null,8,["checked","disabled","onChange"])]})),_:2},1024)])),_:2},1040,["data"])])],64)):q("",!0)],64)):"enterprise_projects"===t.field?(D(),M(N,{key:2},["zdns"!==I(v).formState.cloud_type.toLowerCase()?(D(),M(N,{key:0},["preview"===(null==(S=null==(C=I(x))?void 0:C[I(k)])?void 0:S.use)?(D(),R(d,{key:0,style:{height:"2px","background-color":"rgba(204,204,204,0.6)"}})):q("",!0),G("h3",null,[G("b",null,U(t.field_name),1)]),G("div",null,[m(y,V({ref_for:!0},I(Y),{columns:X,data:I($)}),{status:T((({row:e})=>[m(g,{color:1===e.status?"green":""},{default:T((()=>[E(U(1===e.status?"正常":"禁用"),1)])),_:2},1032,["color"])])),_:1},16,["data"])])],64)):q("",!0)],64)):"write_access_key"===t.field||"write_security_key"===t.field?(D(),M(N,{key:3},["只读"===I(v).formState.key_permissions?(D(),R(u,{key:0,value:I(v).formState[t.field],"onUpdate:value":e=>I(v).formState[t.field]=e,title:t,disabled:"preview"===(null==(P=null==(A=I(x))?void 0:A[I(k)])?void 0:P.use),"title-data":null==(L=null==(z=I(v))?void 0:z.title_data)?void 0:L[t.field],label:void 0,"label-col":{span:3},onChange:e.handlerKeyPermissionsChange},{label:T((()=>[E(U("zdns"===I(v).formState.cloud_type.toLowerCase()&&le[t.field]?le[t.field]:t.field_name),1)])),_:2},1032,["value","onUpdate:value","title","disabled","title-data","onChange"])):q("",!0)],64)):(D(),M(N,{key:4},[1===t.block&&1===a?(D(),M(N,{key:0},["preview"===(null==(B=null==(O=I(x))?void 0:O[I(k)])?void 0:B.use)?(D(),M("h3",Xe,Ye)):(D(),M("h3",Ve,Je))],64)):q("",!0),"zdns"===I(v).formState.cloud_type.toLowerCase()&&ie.includes(t.field)?q("",!0):(D(),R(u,{key:1,value:I(v).formState[t.field],"onUpdate:value":e=>I(v).formState[t.field]=e,title:t,disabled:"preview"===(null==(W=null==(H=I(x))?void 0:H[I(k)])?void 0:W.use),"title-data":null==(J=null==(K=I(v))?void 0:K.title_data)?void 0:J[t.field],label:void 0,"label-col":{span:3}},{label:T((()=>[E(U("zdns"===I(v).formState.cloud_type.toLowerCase()&&le[t.field]?le[t.field]:t.field_name),1)])),_:2},1032,["value","onUpdate:value","title","disabled","title-data"]))],64))],64)})),128)),(null==(a=null==(t=I(v))?void 0:t.formState)?void 0:a.check_msg)?(D(),R(C,{key:0},{default:T((()=>{var e,t;return[G("div",Qe,[m(d,null,{default:T((()=>[Ze])),_:1}),E(" "+U(null==(t=null==(e=I(v))?void 0:e.formState)?void 0:t.check_msg),1)])]})),_:1})):q("",!0)]})),_:1},8,["model","rules"])])])),_:1},8,["model-value","title","loading"])):q("",!0)}}},[["__scopeId","data-v-cc65722b"]]),tt=(e=>(ee("data-v-27f4f506"),e=e(),te(),e))((()=>G("span",{class:"ml-2"},"当前页面：子账号列表",-1))),at=["onClick"],lt=["onClick"],it={style:{display:"flex","align-items":"center"}},ot={class:"custom-tabs"},st=Y({__name:"index",props:{sid:{type:Number,default:0},showSubAccount:{type:Boolean,default:!1},subPageUserId:{type:String,default:""}},emits:["update:showSubAccount","update:subPageUserId"],setup(t,{emit:a}){const l=t,{sid:i,showSubAccount:o,subPageUserId:s}=L(l),n=a,c=r(null),p=r(null),v=ae({initColumn:[],initButton:[],initTitleData:{},subPageColumns:[],subPageData:[]}),f=d((()=>{const e=["pwd_status","cloud_master_account_id","status","id","name"];return v.initColumn.map((t=>e.includes(t.field)?{...t,slots:{default:t.field},showOverflow:!1}:t))}));le((async()=>{const{button:e,columns:t,title_data:a,sub_page_columns:l}=await pe.setColumn({layer:2});v.initColumn=t.value||[],v.initButton=e.value||[],v.initTitleData=a.value||{},v.subPageColumns=l||[]}));const{subPageOpen:_,subPageRow:y,handleSubPageOpen:g}=xe(),b=()=>{n("update:showSubAccount",!1)},k=e=>{v.subPageData=e};return u(o,(e=>{e&&(async()=>{c.value&&(await c.value.commitRequest(),p.value&&await p.value.commitRequest())})()})),u(s,(e=>{e&&g({id:e})})),u(_,(e=>{e||n("update:subPageUserId",null)})),(t,a)=>{var l,s;const n=Z,r=H("vxe-tag"),u=se,d=e,h=Se;return D(),M(N,null,[I(o)?(D(),R(d,{key:0,ref_key:"tableRef",ref:c,columns:I(f),"request-config":{api:()=>I(Be).getList(I(i)),immediate:!0}},{other_toolbar_buttons:T((()=>[m(n,{type:"primary",onClick:b},{default:T((()=>[E("返回")])),_:1}),tt])),id:T((({row:e})=>[G("span",{class:"cursor-pointer text-primary",onClick:t=>I(g)(e)},U(e.id),9,at)])),name:T((({row:e})=>[G("span",{class:"cursor-pointer text-primary",onClick:t=>I(g)(e)},U(e.name),9,lt)])),pwd_status:T((({row:e})=>[m(r,{class:ie(1==e.pwd_status?"theme--error":"theme--primary"),size:"small"},{default:T((()=>[E(U(1==e.pwd_status?"需要修改密码":"正常"),1)])),_:2},1032,["class"])])),status:T((({row:e})=>[m(r,{class:ie("active"==e.status?"theme--primary":"theme--error"),size:"small"},{default:T((()=>[E(U(e.status),1)])),_:2},1032,["class"])])),cloud_master_account_id:T((({row:e})=>{var t,a,l;return[G("div",it,[m(u,{type:e.cloud_source},null,8,["type"])]),E(" "+U((null==(l=null==(a=null==(t=I(v).initTitleData)?void 0:t.cloud_master_account_id)?void 0:a[e.cloud_master_account_id])?void 0:l.page_display)||""),1)]})),_:1},8,["columns","request-config"])):q("",!0),m(h,{open:I(_),"onUpdate:open":a[0]||(a[0]=e=>oe(_)?_.value=e:null),title:`账号：${null==(l=I(v).subPageData)?void 0:l.name}`,"basic-config":{title:"账号信息",api:I(Be).getDetail,customParams:{sid:I(i),id:null==(s=I(y))?void 0:s.id},columns:I(v).subPageColumns.filter((e=>1===e.oriTitle.block))},"custom-tabs":[{key:"sub_account_ak",title:"子账号AK",isCustomTab:!0,columns:I(v).subPageColumns.filter((e=>2===e.oriTitle.block))}],onGetSubPageData:k},{status:T((({row:e})=>[m(r,{class:ie("active"==e.status?"theme--primary":"theme--error"),size:"small"},{default:T((()=>[E(U(e.status),1)])),_:2},1032,["class"])])),cloud_master_account_id:T((({row:e})=>{var t,a,l;return[E(U((null==(l=null==(a=null==(t=I(v).initTitleData)?void 0:t.cloud_master_account_id)?void 0:a[e.cloud_master_account_id])?void 0:l.page_display)||""),1)]})),sub_account_ak:T((({data:e})=>[G("div",ot,[m(d,{ref_key:"akTableRef",ref:p,columns:I(v).subPageColumns.filter((e=>2===e.oriTitle.block)),data:null==e?void 0:e.user_sk},null,8,["columns","data"])])])),_:1},8,["open","title","basic-config","custom-tabs"])],64)}}},[["__scopeId","data-v-27f4f506"]]),nt=G("span",{class:"ml-2"},"当前页面：子账号AK",-1),rt={style:{display:"flex","align-items":"center"}},ut=["onClick"],dt={__name:"index",props:{sid:{type:Number,default:0},showAkPage:{type:Boolean,default:!1}},emits:["update:showAkPage","accountSubPageOpen"],setup(t,{emit:a}){const l=t,{sid:i,showAkPage:o}=L(l),s=a,n=r(null),c=ae({initColumn:[],initButton:[],initTitleData:{},subPageColumns:[]}),p=d((()=>{for(let e of c.initColumn){let{field:t}=e;if("user_id"===t)e.slots={default:t}}return c.initColumn}));le((async()=>{const{button:e,columns:t,title_data:a,sub_page_columns:l}=await pe.setColumn({layer:3});c.initColumn=t.value||[],c.initButton=e.value||[],c.initTitleData=a.value||{},c.subPageColumns=l||[]}));const v=()=>{s("update:showAkPage",!1)};return u(o,(e=>{e&&(async()=>{n.value&&await n.value.commitRequest()})()})),(t,a)=>{const l=Z,r=se,u=e;return I(o)?(D(),R(u,{key:0,ref_key:"tableRef",ref:n,columns:I(p),"request-config":{api:()=>I(He).getList(I(i)),immediate:!0}},{other_toolbar_buttons:T((()=>[m(l,{type:"primary",onClick:v},{default:T((()=>[E("返回")])),_:1}),nt])),cloud_master_account_id:T((({row:e})=>{var t,a,l;return[G("div",rt,[m(r,{type:e.cloud_source},null,8,["type"])]),E(" "+U((null==(l=null==(a=null==(t=I(c).initTitleData)?void 0:t.cloud_master_account_id)?void 0:a[e.cloud_master_account_id])?void 0:l.page_display)||""),1)]})),user_id:T((({row:e})=>[G("span",{class:"cursor-pointer text-primary",onClick:t=>s("accountSubPageOpen",e.user_id)},U(e.user_id),9,ut)])),_:1},8,["columns","request-config"])):q("",!0)}}},ct=e=>(ee("data-v-9b54f9ae"),e=e(),te(),e),mt={class:"cloud-account-container"},pt={class:"mb-6 flex justify-end pt-4"},vt=ct((()=>G("br",null,null,-1))),ft={class:"card-view"},_t={class:"flex justify-between items-center mb-6 px-1"},yt={class:"flex-1 max-w-xs"},gt={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-8 px-4 py-6 bg-gradient-to-br from-gray-50 to-gray-100 rounded-2xl"},bt={class:"flex justify-between items-center mb-4"},kt={class:"flex items-center gap-2"},ht={class:"font-semibold text-base text-gray-800"},wt={class:"mb-5"},Ct={class:"flex mb-2"},xt=ct((()=>G("span",{class:"text-gray-600 text-sm min-w-20"},"主账户：",-1))),St=["title"],$t={class:"flex mb-2"},At=ct((()=>G("span",{class:"text-gray-600 text-sm min-w-20"},"子账户：",-1))),Pt=["title"],zt={class:"flex mb-2"},Lt=ct((()=>G("span",{class:"text-gray-600 text-sm min-w-20"},"页面展示：",-1))),jt=["title"],Dt={class:"flex mb-2"},Rt=ct((()=>G("span",{class:"text-gray-600 text-sm min-w-20"},"描述：",-1))),Tt=["title"],It={key:0,class:"flex flex-wrap gap-2 opacity-100 transition-opacity duration-300 relative z-10"},Et={key:0,class:"text-center py-15"},Ut={class:"float-right pt-4"},Ot="cloud-manage/cloud-account/",Bt=Y({__name:"index",setup(t){const a=r(null);let l=r([]),i=r([]),o=r({});const s=r(!1),n=r(!1),u=r(),c=r(),p=r("view"),v=r([]),f=r(""),_=r(1),y=r(10),g=r(0);le((async()=>{let{title_data:e,button:t,columns:a}=await pe.setColumn({layer:1});l.value=a.value||[],i.value=t.value||[],o.value=e.value||{}}));const{userEdit:b,formOpen:k,formType:h,formSid:w}=be(),{userEdit:C,formOpen:x,formType:S,formSid:$}=be();let A=d((()=>{let e={add:!1,edit:!1,del:!1};if(i.value)for(let t of i.value){let{field:a}=t;switch(a){case"add-account":e.add=t;break;case"edit-account":e.edit=t;break;case"del-account":e.del=t}}return e}));const P=d((()=>{for(let e of l.value){let{field:t}=e;switch(t){case"status":case"regions_list":case"enterprise_projects":case"sub_account_ak":e.slots={default:t};break;case"user_group":delete e.showOverflow,e.slots={default:t}}}return l.value}));le((async()=>{await j()}));const z=e=>{v.value=e},L=({type:e,row:t})=>{b({type:e,sid:t.id})},j=async()=>{var e;await(null==a?void 0:a.value)&&(null==(e=a.value)||e.commitRequest())},{userClickStatus:O}=_e({urlPrefix:Ot,getData:j,editUrl:"edit-account"});let B=r(!1),W=r({}),K=r("");const X=(e,t)=>{B.value=!0,K.value=t,W.value=e||{}},Y=(e,t)=>{"sub_account_ak"===e?n.value=!0:s.value=!0,u.value=t.id};let V=r(null);const J=e=>{V.value=e,e.checked?O(V.value):Me({okCallBack:{api:O,data:V.value},tip:"禁用此同步后，对应数据会全部清除,确认是否禁用"})},Q=e=>{c.value=e},ee=e=>({huawei:"华为云",ali:"阿里云",zdns:"ZDNS"}[null==e?void 0:e.toLowerCase()]||e),te=e=>"ali"!==(null==e?void 0:e.toLowerCase())&&"zdns"!==(null==e?void 0:e.toLowerCase()),ae=d((()=>{let e=[];if(a.value&&a.value.tableAllData&&(e=Array.isArray(a.value.tableAllData)?a.value.tableAllData:[]),f.value){const t=f.value.toLowerCase();e=e.filter((e=>{var a,l,i;return(null==(a=e.primary_username)?void 0:a.toLowerCase().includes(t))||(null==(l=e.page_display)?void 0:l.toLowerCase().includes(t))||(null==(i=e.describe)?void 0:i.toLowerCase().includes(t))||ee(e.cloud_type).toLowerCase().includes(t)}))}const t=(_.value-1)*y.value,l=t+y.value;return g.value=e.length,e.slice(t,l)})),ve=()=>{_.value=1},ye=e=>{_.value=e},ge=(e,t)=>{y.value=t,_.value=1};return ne("urlPrefix",Ot),ne("button",i),(t,l)=>{var i;const r=Ee,d=fe,v=H("vxe-button"),b=de,O=e,V=ce,le=Z,ne=me,pe=$e;return D(),M(N,null,[G("div",mt,[re(G("div",pt,[m(r,{value:I(p),"onUpdate:value":l[0]||(l[0]=e=>oe(p)?p.value=e:null),options:[{label:"视图",value:"view",icon:"AppstoreOutlined"},{label:"列表",value:"list",icon:"BarsOutlined"}],size:"large"},null,8,["value"])],512),[[ue,!I(s)&&!I(n)]]),re(m(O,{ref_key:"cloudTableRef",ref:a,columns:I(P),"auth-btn":I(A),"request-config":{api:I(Oe).getAccountListApi,immediate:!1},"filter-config":{remote:!1,showIcon:!0},"is-show-doc":!0,onUserEdit:L,onUserAdd:l[1]||(l[1]=e=>{I(C)({type:t.$CONFIG.FORM_TYPE.ADD_TYPE})}),onDataChange:z},{status:T((({row:e,rowIndex:t})=>{var a,l,i,s,n,r;return[m(d,{checked:e.status,"checked-value":1,"un-checked-value":0,"checked-children":(null==(l=null==(a=I(o))?void 0:a.status)?void 0:l[1])||"启动","un-checked-children":(null==(s=null==(i=I(o))?void 0:i.status)?void 0:s[0])||"禁用",disabled:!(null==(r=null==(n=I(A))?void 0:n.edit)?void 0:r.page_display),onClick:a=>J({checked:a,sid:e.id,rowIndex:t,field:"status"})},null,8,["checked","checked-children","un-checked-children","disabled","onClick"])]})),regions_list:T((({row:e})=>[re(m(v,{mode:"text",content:"可用区",status:"primary",onClick:t=>X(e,"regions_list")},null,8,["onClick"]),[[ue,"zdns"!==e.cloud_type.toLowerCase()]])])),enterprise_projects:T((({row:e})=>[re(m(v,{mode:"text",content:"企业项目",status:"primary",onClick:t=>X(e,"enterprise_projects")},null,8,["onClick"]),[[ue,"zdns"!==e.cloud_type.toLowerCase()]])])),sub_account_ak:T((({row:e})=>[re(m(v,{mode:"text",content:"子账号清单",status:"primary",onClick:t=>Y("sub_account_list",e)},null,8,["onClick"]),[[ue,"zdns"!==e.cloud_type.toLowerCase()]]),re(m(v,{mode:"text",content:"子账号AK",status:"primary",onClick:t=>Y("sub_account_ak",e)},null,8,["onClick"]),[[ue,"zdns"!==e.cloud_type.toLowerCase()]])])),virtual_team_v3_id:T((({row:e})=>[E(U(e.page_display),1),vt,m(b,{"field-value":e.virtual_team_v3_id,"data-source":I(o).virtual_team_v3_id},null,8,["field-value","data-source"])])),_:1},8,["columns","auth-btn","request-config"]),[[ue,"list"===I(p)&&!I(s)&&!I(n)]]),re(G("div",ft,[G("div",_t,[G("div",yt,[m(V,{value:I(f),"onUpdate:value":l[2]||(l[2]=e=>oe(f)?f.value=e:null),placeholder:"搜索云账号...",style:{width:"300px"},onSearch:ve,onChange:ve},null,8,["value"])])]),G("div",gt,[(D(!0),M(N,null,F(I(ae),((e,t)=>{var a,l,i,s,n,r,u;return D(),M("div",{key:e.id,class:ie(["bg-white rounded-xl shadow-md border-2 border-gray-200 p-6 transition-all duration-300 hover:shadow-xl hover:-translate-y-1 hover:border-blue-300",{"opacity-60 bg-gray-50":!e.status}])},[G("div",bt,[G("div",kt,[m(se,{type:e.cloud_type,class:"w-16"},null,8,["type"]),G("span",ht,U(ee(e.cloud_type)),1)]),G("div",{class:ie(["px-3 py-1 rounded-full text-xs font-medium shadow-sm transform hover:scale-105 transition-transform duration-200",e.status?"bg-green-50 text-green-600 border-2 border-green-300 shadow-green-100":"bg-red-50 text-red-500 border-2 border-red-300 shadow-red-100"])},[m(d,{checked:e.status,"checked-value":1,"un-checked-value":0,"checked-children":(null==(l=null==(a=I(o))?void 0:a.status)?void 0:l[1])||"启动","un-checked-children":(null==(s=null==(i=I(o))?void 0:i.status)?void 0:s[0])||"禁用",disabled:!(null==(r=null==(n=I(A))?void 0:n.edit)?void 0:r.page_display),onClick:a=>J({checked:a,sid:e.id,rowIndex:t,field:"status"})},null,8,["checked","checked-children","un-checked-children","disabled","onClick"])],2)]),G("div",wt,[G("div",Ct,[xt,G("span",{class:"text-gray-800 text-sm font-medium break-all w-full truncate",title:e.primary_username},U(e.primary_username),9,St)]),G("div",$t,[At,G("span",{class:"text-gray-800 text-sm font-medium break-all w-full truncate",title:e.username},U(e.username),9,Pt)]),G("div",zt,[Lt,G("span",{class:"text-gray-800 text-sm font-medium break-all w-full truncate",title:e.page_display},U(e.page_display),9,jt)]),G("div",Dt,[Rt,G("span",{class:"text-gray-800 text-sm font-medium break-all w-full truncate",title:e.describe},U(e.describe),9,Tt)])]),(u=e.cloud_type,"zdns"!==(null==u?void 0:u.toLowerCase())?(D(),M("div",It,[m(le,{type:"primary",size:"small",class:"w-24 rounded-md text-xs h-7 px-3 shadow-md hover:shadow-lg transform hover:-translate-y-0.5 transition-all duration-200 relative z-10",onClick:t=>X(e,"regions_list")},{default:T((()=>[E(" 可用区 ")])),_:2},1032,["onClick"]),te(e.cloud_type)?(D(),R(le,{key:0,type:"primary",size:"small",class:"w-24 rounded-md text-xs h-7 px-3 shadow-md hover:shadow-lg transform hover:-translate-y-0.5 transition-all duration-200 relative z-10",onClick:t=>X(e,"enterprise_projects")},{default:T((()=>[E(" 企业项目 ")])),_:2},1032,["onClick"])):q("",!0),m(le,{type:"primary",size:"small",class:"w-24 rounded-md text-xs h-7 px-3 shadow-md hover:shadow-lg transform hover:-translate-y-0.5 transition-all duration-200 relative z-10",onClick:t=>Y("sub_account_list",e)},{default:T((()=>[E(" 子账号清单 ")])),_:2},1032,["onClick"]),m(le,{type:"primary",size:"small",class:"w-24 rounded-md text-xs h-7 px-3 shadow-md hover:shadow-lg transform hover:-translate-y-0.5 transition-all duration-200 relative z-10",onClick:t=>Y("sub_account_ak",e)},{default:T((()=>[E(" 子账号AK ")])),_:2},1032,["onClick"])])):q("",!0))],2)})),128))]),(null==(i=I(a))?void 0:i.tableAllData)&&0!==I(ae).length?q("",!0):(D(),M("div",Et,[m(ne,{description:"暂无数据"})])),G("div",Ut,[m(pe,{current:I(_),"onUpdate:current":l[3]||(l[3]=e=>oe(_)?_.value=e:null),"page-size":I(y),"onUpdate:pageSize":l[4]||(l[4]=e=>oe(y)?y.value=e:null),total:I(g),"show-size-changer":!0,"show-quick-jumper":!0,"show-total":(e,t)=>`第 ${t[0]}-${t[1]} 条，共 ${e} 条`,onChange:ye,onShowSizeChange:ge},null,8,["current","page-size","total","show-total"])])],512),[[ue,"view"===I(p)&&!I(s)&&!I(n)]])]),m(st,{showSubAccount:I(s),"onUpdate:showSubAccount":l[5]||(l[5]=e=>oe(s)?s.value=e:null),subPageUserId:I(c),"onUpdate:subPageUserId":l[6]||(l[6]=e=>oe(c)?c.value=e:null),sid:I(u)},null,8,["showSubAccount","subPageUserId","sid"]),m(dt,{showAkPage:I(n),"onUpdate:showAkPage":l[7]||(l[7]=e=>oe(n)?n.value=e:null),sid:I(u),onAccountSubPageOpen:Q},null,8,["showAkPage","sid"]),m(Ne,{open:I(B),"onUpdate:open":l[8]||(l[8]=e=>oe(B)?B.value=e:B=e),"one-data":I(W),"list-type":I(K)},null,8,["open","one-data","list-type"]),m(Fe,{open:I(k),"onUpdate:open":l[9]||(l[9]=e=>oe(k)?k.value=e:null),sid:I(w),"form-type":I(h),onEditSuccess:j},null,8,["open","sid","form-type"]),m(et,{open:I(x),"onUpdate:open":l[10]||(l[10]=e=>oe(x)?x.value=e:null),sid:I($),"form-type":I(S),onEditSuccess:j},null,8,["open","sid","form-type"])],64)}}},[["__scopeId","data-v-9b54f9ae"]]);export{Bt as default};
