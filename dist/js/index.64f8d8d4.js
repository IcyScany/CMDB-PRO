import{_ as e,P as t,o,aK as n,f as a,d as l,aD as r,J as i,I as s,x as d,ap as c,t as p,c as u,T as f,C as v,D as h,g as y,aF as m,bz as b,n as g,r as C,bA as w,h as S,m as k,aC as x,q as $,i as O,u as D,bw as I,p as N,ba as P,A as B,bB as M,bC as T,bg as z,E}from"./index.872a2bd0.js";const j=()=>({prefixCls:String,width:t.oneOfType([t.string,t.number]),height:t.oneOfType([t.string,t.number]),style:{type:Object,default:void 0},class:String,rootClassName:String,rootStyle:o(),placement:{type:String},wrapperClassName:String,level:{type:[String,Array]},levelMove:{type:[Number,Function,Array]},duration:String,ease:String,showMask:{type:Boolean,default:void 0},maskClosable:{type:Boolean,default:void 0},maskStyle:{type:Object,default:void 0},afterVisibleChange:Function,keyboard:{type:Boolean,default:void 0},contentWrapperStyle:n(),autofocus:{type:Boolean,default:void 0},open:{type:Boolean,default:void 0},motion:a(),maskMotion:o()});Object.keys({transition:"transitionend",WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend"}).filter((e=>{if("undefined"==typeof document)return!1;const t=document.getElementsByTagName("html")[0];return e in(t?t.style:{})}))[0];const A=!("undefined"!=typeof window&&window.document&&window.document.createElement);var F=globalThis&&globalThis.__rest||function(e,t){var o={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(o[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(o[n[a]]=e[n[a]])}return o};const V=l({compatConfig:{MODE:3},inheritAttrs:!1,props:e(e({},j()),{getContainer:Function,getOpenCount:Function,scrollLocker:t.any,inline:Boolean}),emits:["close","handleClick","change"],setup(e,t){let{emit:o,slots:n}=t;const a=r(),l=r(),g=r(),C=r(),w=r();let S=[];Number((Date.now()+Math.random()).toString().replace(".",Math.round(9*Math.random()).toString())).toString(16),i((()=>{s((()=>{var t;const{open:o,getContainer:n,showMask:a,autofocus:l}=e,r=null==n?void 0:n();D(e),o&&(r&&(r.parentNode,document.body),s((()=>{l&&k()})),a&&(null===(t=e.scrollLocker)||void 0===t||t.lock()))}))})),d((()=>e.level),(()=>{D(e)}),{flush:"post"}),d((()=>e.open),(()=>{const{open:t,getContainer:o,scrollLocker:n,showMask:a,autofocus:l}=e,r=null==o?void 0:o();r&&(r.parentNode,document.body),t?(l&&k(),a&&(null==n||n.lock())):null==n||n.unLock()}),{flush:"post"}),c((()=>{var t;const{open:o}=e;o&&(document.body.style.touchAction=""),null===(t=e.scrollLocker)||void 0===t||t.unLock()})),d((()=>e.placement),(e=>{e&&(w.value=null)}));const k=()=>{var e,t;null===(t=null===(e=l.value)||void 0===e?void 0:e.focus)||void 0===t||t.call(e)},x=e=>{o("close",e)},$=e=>{e.keyCode===b.ESC&&(e.stopPropagation(),x(e))},O=()=>{const{open:t,afterVisibleChange:o}=e;o&&o(!!t)},D=e=>{let{level:t,getContainer:o}=e;if(A)return;const n=null==o?void 0:o(),a=n?n.parentNode:null;if(S=[],"all"===t){(a?Array.prototype.slice.call(a.children):[]).forEach((e=>{"SCRIPT"!==e.nodeName&&"STYLE"!==e.nodeName&&"LINK"!==e.nodeName&&e!==n&&S.push(e)}))}else t&&(l=t,Array.isArray(l)?l:[l]).forEach((e=>{document.querySelectorAll(e).forEach((e=>{S.push(e)}))}));var l},I=e=>{o("handleClick",e)},N=r(!1);return d(l,(()=>{s((()=>{N.value=!0}))})),()=>{var t,o;const{width:r,height:i,open:s,prefixCls:d,placement:c,level:b,levelMove:S,ease:k,duration:D,getContainer:P,onChange:B,afterVisibleChange:M,showMask:T,maskClosable:z,maskStyle:E,keyboard:j,getOpenCount:A,scrollLocker:V,contentWrapperStyle:L,style:R,class:W,rootClassName:_,rootStyle:H,maskMotion:X,motion:Y,inline:U}=e,G=F(e,["width","height","open","prefixCls","placement","level","levelMove","ease","duration","getContainer","onChange","afterVisibleChange","showMask","maskClosable","maskStyle","keyboard","getOpenCount","scrollLocker","contentWrapperStyle","style","class","rootClassName","rootStyle","maskMotion","motion","inline"]),K=s&&N.value,q=p(d,{[`${d}-${c}`]:!0,[`${d}-open`]:K,[`${d}-inline`]:U,"no-mask":!T,[_]:!0}),J="function"==typeof Y?Y(c):Y;return u("div",y(y({},m(G,["autofocus"])),{},{tabindex:-1,class:q,style:H,ref:l,onKeydown:K&&j?$:void 0}),[u(f,X,{default:()=>[T&&v(u("div",{class:`${d}-mask`,onClick:z?x:void 0,style:E,ref:g},null),[[h,K]])]}),u(f,y(y({},J),{},{onAfterEnter:O,onAfterLeave:O}),{default:()=>[v(u("div",{class:`${d}-content-wrapper`,style:[L],ref:a},[u("div",{class:[`${d}-content`,W],style:R,ref:w},[null===(t=n.default)||void 0===t?void 0:t.call(n)]),n.handler?u("div",{onClick:I,ref:C},[null===(o=n.handler)||void 0===o?void 0:o.call(n)]):null]),[[h,K]])]})])}}});var L=globalThis&&globalThis.__rest||function(e,t){var o={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(o[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(o[n[a]]=e[n[a]])}return o};const R=l({compatConfig:{MODE:3},inheritAttrs:!1,props:g(e(e({},j()),{forceRender:{type:Boolean,default:void 0},getContainer:t.oneOfType([t.string,t.func,t.object,t.looseBool])}),{prefixCls:"drawer",placement:"left",getContainer:"body",level:"all",duration:".3s",ease:"cubic-bezier(0.78, 0.14, 0.15, 0.86)",afterVisibleChange:()=>{},showMask:!0,maskClosable:!0,maskStyle:{},wrapperClassName:"",keyboard:!0,forceRender:!1,autofocus:!0}),emits:["handleClick","close"],setup(e,t){let{emit:o,slots:n}=t;const a=C(null),l=e=>{o("handleClick",e)},r=e=>{o("close",e)};return()=>{const{getContainer:t,wrapperClassName:o,rootClassName:i,rootStyle:s,forceRender:d}=e,c=L(e,["getContainer","wrapperClassName","rootClassName","rootStyle","forceRender"]);let p=null;if(!t)return u(V,y(y({},c),{},{rootClassName:i,rootStyle:s,open:e.open,onClose:r,onHandleClick:l,inline:!0}),n);const f=!!n.handler||d;return(f||e.open||a.value)&&(p=u(w,{autoLock:!0,visible:e.open,forceRender:f,getContainer:t,wrapperClassName:o},{default:t=>{var{visible:o,afterClose:d}=t,p=L(t,["visible","afterClose"]);return u(V,y(y(y({ref:a},c),p),{},{rootClassName:i,rootStyle:s,open:void 0!==o?o:e.open,afterVisibleChange:void 0!==d?d:e.afterVisibleChange,onClose:r,onHandleClick:l}),n)}})),p}}}),W=e=>{const{componentCls:t,motionDurationSlow:o}=e,n={"&-enter, &-appear, &-leave":{"&-start":{transition:"none"},"&-active":{transition:`all ${o}`}}};return{[t]:{[`${t}-mask-motion`]:{"&-enter, &-appear, &-leave":{"&-active":{transition:`all ${o}`}},"&-enter, &-appear":{opacity:0,"&-active":{opacity:1}},"&-leave":{opacity:1,"&-active":{opacity:0}}},[`${t}-panel-motion`]:{"&-left":[n,{"&-enter, &-appear":{"&-start":{transform:"translateX(-100%) !important"},"&-active":{transform:"translateX(0)"}},"&-leave":{transform:"translateX(0)","&-active":{transform:"translateX(-100%)"}}}],"&-right":[n,{"&-enter, &-appear":{"&-start":{transform:"translateX(100%) !important"},"&-active":{transform:"translateX(0)"}},"&-leave":{transform:"translateX(0)","&-active":{transform:"translateX(100%)"}}}],"&-top":[n,{"&-enter, &-appear":{"&-start":{transform:"translateY(-100%) !important"},"&-active":{transform:"translateY(0)"}},"&-leave":{transform:"translateY(0)","&-active":{transform:"translateY(-100%)"}}}],"&-bottom":[n,{"&-enter, &-appear":{"&-start":{transform:"translateY(100%) !important"},"&-active":{transform:"translateY(0)"}},"&-leave":{transform:"translateY(0)","&-active":{transform:"translateY(100%)"}}}]}}}},_=e=>{const{componentCls:t,zIndexPopup:o,colorBgMask:n,colorBgElevated:a,motionDurationSlow:l,motionDurationMid:r,padding:i,paddingLG:s,fontSizeLG:d,lineHeightLG:c,lineWidth:p,lineType:u,colorSplit:f,marginSM:v,colorIcon:h,colorIconHover:y,colorText:m,fontWeightStrong:b,drawerFooterPaddingVertical:g,drawerFooterPaddingHorizontal:C}=e,w=`${t}-content-wrapper`;return{[t]:{position:"fixed",inset:0,zIndex:o,pointerEvents:"none","&-pure":{position:"relative",background:a,[`&${t}-left`]:{boxShadow:e.boxShadowDrawerLeft},[`&${t}-right`]:{boxShadow:e.boxShadowDrawerRight},[`&${t}-top`]:{boxShadow:e.boxShadowDrawerUp},[`&${t}-bottom`]:{boxShadow:e.boxShadowDrawerDown}},"&-inline":{position:"absolute"},[`${t}-mask`]:{position:"absolute",inset:0,zIndex:o,background:n,pointerEvents:"auto"},[w]:{position:"absolute",zIndex:o,transition:`all ${l}`,"&-hidden":{display:"none"}},[`&-left > ${w}`]:{top:0,bottom:0,left:{_skip_check_:!0,value:0},boxShadow:e.boxShadowDrawerLeft},[`&-right > ${w}`]:{top:0,right:{_skip_check_:!0,value:0},bottom:0,boxShadow:e.boxShadowDrawerRight},[`&-top > ${w}`]:{top:0,insetInline:0,boxShadow:e.boxShadowDrawerUp},[`&-bottom > ${w}`]:{bottom:0,insetInline:0,boxShadow:e.boxShadowDrawerDown},[`${t}-content`]:{width:"100%",height:"100%",overflow:"auto",background:a,pointerEvents:"auto"},[`${t}-wrapper-body`]:{display:"flex",flexDirection:"column",width:"100%",height:"100%"},[`${t}-header`]:{display:"flex",flex:0,alignItems:"center",padding:`${i}px ${s}px`,fontSize:d,lineHeight:c,borderBottom:`${p}px ${u} ${f}`,"&-title":{display:"flex",flex:1,alignItems:"center",minWidth:0,minHeight:0}},[`${t}-extra`]:{flex:"none"},[`${t}-close`]:{display:"inline-block",marginInlineEnd:v,color:h,fontWeight:b,fontSize:d,fontStyle:"normal",lineHeight:1,textAlign:"center",textTransform:"none",textDecoration:"none",background:"transparent",border:0,outline:0,cursor:"pointer",transition:`color ${r}`,textRendering:"auto","&:focus, &:hover":{color:y,textDecoration:"none"}},[`${t}-title`]:{flex:1,margin:0,color:m,fontWeight:e.fontWeightStrong,fontSize:d,lineHeight:c},[`${t}-body`]:{flex:1,minWidth:0,minHeight:0,padding:s,overflow:"auto"},[`${t}-footer`]:{flexShrink:0,padding:`${g}px ${C}px`,borderTop:`${p}px ${u} ${f}`},"&-rtl":{direction:"rtl"}}}},H=S("Drawer",(e=>{const t=k(e,{drawerFooterPaddingVertical:e.paddingXS,drawerFooterPaddingHorizontal:e.padding});return[_(t),W(t)]}),(e=>({zIndexPopup:e.zIndexPopupBase})));var X=globalThis&&globalThis.__rest||function(e,t){var o={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(o[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(o[n[a]]=e[n[a]])}return o};const Y=["top","right","bottom","left"],U={distance:180},G=x(l({compatConfig:{MODE:3},name:"ADrawer",inheritAttrs:!1,props:g({autofocus:{type:Boolean,default:void 0},closable:{type:Boolean,default:void 0},closeIcon:t.any,destroyOnClose:{type:Boolean,default:void 0},forceRender:{type:Boolean,default:void 0},getContainer:{type:[String,Function,Boolean,Object],default:void 0},maskClosable:{type:Boolean,default:void 0},mask:{type:Boolean,default:void 0},maskStyle:o(),rootClassName:String,rootStyle:o(),size:{type:String},drawerStyle:o(),headerStyle:o(),bodyStyle:o(),contentWrapperStyle:{type:Object,default:void 0},title:t.any,visible:{type:Boolean,default:void 0},open:{type:Boolean,default:void 0},width:t.oneOfType([t.string,t.number]),height:t.oneOfType([t.string,t.number]),zIndex:Number,prefixCls:String,push:t.oneOfType([t.looseBool,{type:Object}]),placement:t.oneOf(Y),keyboard:{type:Boolean,default:void 0},extra:t.any,footer:t.any,footerStyle:o(),level:t.any,levelMove:{type:[Number,Array,Function]},handle:t.any,afterVisibleChange:Function,onAfterVisibleChange:Function,onAfterOpenChange:Function,"onUpdate:visible":Function,"onUpdate:open":Function,onClose:Function},{closable:!0,placement:"right",maskClosable:!0,mask:!0,level:null,keyboard:!0,push:U}),slots:Object,setup(t,o){let{emit:n,slots:a,attrs:l}=o;const f=r(!1),v=r(!1),h=r(null),b=r(!1),g=r(!1),C=$((()=>{var e;return null!==(e=t.open)&&void 0!==e?e:t.visible}));d(C,(()=>{C.value?b.value=!0:g.value=!1}),{immediate:!0}),d([C,b],(()=>{C.value&&b.value&&(g.value=!0)}),{immediate:!0});const w=O("parentDrawerOpts",null),{prefixCls:S,getPopupContainer:k,direction:x}=D("drawer",t),[j,A]=H(S),F=$((()=>void 0===t.getContainer&&(null==k?void 0:k.value)?()=>k.value(document.body):t.getContainer));I(!t.afterVisibleChange,"Drawer","`afterVisibleChange` prop is deprecated, please use `@afterVisibleChange` event instead");N("parentDrawerOpts",{setPush:()=>{f.value=!0},setPull:()=>{f.value=!1,s((()=>{V()}))}}),i((()=>{C.value&&w&&w.setPush()})),c((()=>{w&&w.setPull()})),d(g,(()=>{w&&(g.value?w.setPush():w.setPull())}),{flush:"post"});const V=()=>{var e,t;null===(t=null===(e=h.value)||void 0===e?void 0:e.domFocus)||void 0===t||t.call(e)},L=e=>{n("update:visible",!1),n("update:open",!1),n("close",e)},W=e=>{var o;e||(!1===v.value&&(v.value=!0),t.destroyOnClose&&(b.value=!1)),null===(o=t.afterVisibleChange)||void 0===o||o.call(t,e),n("afterVisibleChange",e),n("afterOpenChange",e)},_=$((()=>{const{push:e,placement:o}=t;let n;return n="boolean"==typeof e?e?U.distance:0:e.distance,n=parseFloat(String(n||0)),"left"===o||"right"===o?`translateX(${"left"===o?n:-n}px)`:"top"===o||"bottom"===o?`translateY(${"top"===o?n:-n}px)`:null})),Y=$((()=>{var e;return null!==(e=t.width)&&void 0!==e?e:"large"===t.size?736:378})),G=$((()=>{var e;return null!==(e=t.height)&&void 0!==e?e:"large"===t.size?736:378})),K=$((()=>{const{mask:e,placement:o}=t;if(!g.value&&!e)return{};const n={};return"left"===o||"right"===o?n.width=P(Y.value)?`${Y.value}px`:Y.value:n.height=P(G.value)?`${G.value}px`:G.value,n})),q=$((()=>{const{zIndex:o,contentWrapperStyle:n}=t,a=K.value;return[{zIndex:o,transform:f.value?_.value:void 0},e({},n),a]})),J=e=>{const{closable:o,headerStyle:n}=t,l=z(a,t,"extra"),r=z(a,t,"title");return r||o?u("div",{class:p(`${e}-header`,{[`${e}-header-close-only`]:o&&!r&&!l}),style:n},[u("div",{class:`${e}-header-title`},[Q(e),r&&u("div",{class:`${e}-title`},[r])]),l&&u("div",{class:`${e}-extra`},[l])]):null},Q=e=>{var o;const{closable:n}=t,l=a.closeIcon?null===(o=a.closeIcon)||void 0===o?void 0:o.call(a):t.closeIcon;return n&&u("button",{key:"closer",onClick:L,"aria-label":"Close",class:`${e}-close`},[void 0===l?u(E,null,null):l])},Z=e=>{const o=z(a,t,"footer");if(!o)return null;return u("div",{class:`${e}-footer`,style:t.footerStyle},[o])},ee=$((()=>p({"no-mask":!t.mask,[`${S.value}-rtl`]:"rtl"===x.value},t.rootClassName,A.value))),te=$((()=>B(M(S.value,"mask-motion")))),oe=e=>B(M(S.value,`panel-motion-${e}`));return()=>{const{width:o,height:n,placement:r,mask:i,forceRender:s}=t,d=X(t,["width","height","placement","mask","forceRender"]),c=e(e(e({},l),m(d,["size","closeIcon","closable","destroyOnClose","drawerStyle","headerStyle","bodyStyle","title","push","onAfterVisibleChange","onClose","onUpdate:visible","onUpdate:open","visible"])),{forceRender:s,onClose:L,afterVisibleChange:W,handler:!1,prefixCls:S.value,open:g.value,showMask:i,placement:r,ref:h});return j(u(T,null,{default:()=>[u(R,y(y({},c),{},{maskMotion:te.value,motion:oe,width:Y.value,height:G.value,getContainer:F.value,rootClassName:ee.value,rootStyle:t.rootStyle,contentWrapperStyle:q.value}),{handler:t.handle?()=>t.handle:a.handle,default:()=>(e=>{var o;if(v.value&&!t.forceRender&&!b.value)return null;const{bodyStyle:n,drawerStyle:l}=t;return u("div",{class:`${e}-wrapper-body`,style:l},[J(e),u("div",{key:"body",class:`${e}-body`,style:n},[null===(o=a.default)||void 0===o?void 0:o.call(a)]),Z(e)])})(S.value)})]}))}}}));export{G as _};
