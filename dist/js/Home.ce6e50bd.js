import{a3 as e,N as l,q as a,a0 as t,ab as n,r as u,J as s,ai as o,Q as r,R as i,X as d,Y as c,$ as v,c as m,W as p,O as _,ad as f,ah as g,F as h,S as C,C as b,D as k,U as y,a6 as w,Z as x,a9 as L,aa as j,aj as $,aw as G,ax as M,ay as F,ak as O}from"./index.872a2bd0.js";import{A as R}from"./index.f5b961a2.js";import{_ as A}from"./index.87ccdcd1.js";import{_ as B}from"./Title.f705c4e3.js";import{_ as P}from"./index.9846e408.js";import"./scrollTo.16647b25.js";const S=e=>(L("data-v-df989f29"),e=e(),j(),e),T={class:"aliyun-product-container"},q={class:"page-header"},D={class:"header-content"},E={class:"title"},U={class:"subtitle"},Z=S((()=>d("div",{class:"wave-container"},[d("svg",{class:"wave",viewBox:"0 0 1440 320",preserveAspectRatio:"none"},[d("path",{fill:"#F5F7FA",d:"M0,160L34.3,165.3C68.6,171,137,181,206,170.7C274.3,160,343,128,411,128C480,128,549,160,617,170.7C685.7,181,754,171,823,154.7C891.4,139,960,117,1029,112C1097.1,107,1166,117,1234,122.7C1302.9,128,1371,128,1406,128L1440,128L1440,320L1405.7,320C1371.4,320,1303,320,1234,320C1165.7,320,1097,320,1029,320C960,320,891,320,823,320C754.3,320,686,320,617,320C548.6,320,480,320,411,320C342.9,320,274,320,206,320C137.1,320,69,320,34,320L0,320Z"})])],-1))),H={class:"main-content"},I={class:"resource-details"},J={class:"sidebar"},N={class:"sidebar-content"},Q=S((()=>d("h2",{class:"sidebar-title mb-3"},"产品类别",-1))),W={class:"search-container mb-5"},X={key:0,class:"product-grid-list w-100%",wrap:"wrap",gap:"small",style:{width:"100%"}},Y={class:"card-content"},z=["src","alt"],K={class:"card-title h-8 mb-0 pl-2"},V={class:"card-description"},ee=["id"],le={class:"card-content"},ae=["src","alt"],te={class:"card-title h-8 mb-0 pl-2"},ne={class:"card-description"},ue=e({__name:"Home",setup(e){const L=l(),j=a((()=>L.checkedMenuGroup));let S=a((()=>L.menuGroupList||[])),ue=a((()=>L.categoryProductList||[])),se=a((()=>L.formatCategoryProductList||{}));const oe=a((()=>{var e,l;return j?null==(l=null==(e=t.groupBy(S.value,"name"))?void 0:e[j.value])?void 0:l[0]:{}})),re=n(),ie=a((()=>S.value.map((({name:e,cn_name:l})=>({key:e,title:l,href:`#${e}`}))))),de=u(null);let ce=u({});s((()=>{j.value&&de.value.scrollTo(`#${j.value}`),o.getProductCount().then((e=>{var l;if(!e)return;let a=t.groupBy(re.getRoutes(),"path");for(let n in a){let u=a[n][0];(null==(l=null==u?void 0:u.meta)?void 0:l.product_count)&&e[u.meta.product_count]&&(ce.value[u.path]={detail_count:e[u.meta.product_count],total_count:t.sum(Object.values(e[u.meta.product_count]))})}}))}));const ve=(e,l)=>{e.preventDefault(),(null==l?void 0:l.href)&&"undefined"!==l.href.split("#")[1]&&L.setCheckedMenuGroup(`${l.href.split("#")[1]}`)},me=e=>{e&&"undefined"!==e.split("#")[1]&&L.setCheckedMenuGroup(`${e.split("#")[1]}`)},pe=()=>document.querySelector(".content-area");let _e=u([]),fe=u("");const ge=e=>{let l=e.target.value.trim().toLowerCase();_e.value=l?ue.value.filter((e=>e.submenu.some((e=>e.menu_name.toLowerCase().includes(l))))):[]},he=e=>{let l=e.target;return e.target.src="/images/default.png",l.onerror=null,!0};return(e,l)=>{var a,t;const n=_("SearchOutlined"),u=$,s=R,o=B,ue=G,re=M,Ce=F,be=_("router-link"),ke=O,ye=P,we=A;return r(),i("div",T,[d("div",q,[d("div",D,[d("h1",E,c(null==(a=v(oe))?void 0:a.cn_name),1),d("p",U,c(null==(t=v(oe))?void 0:t.describe),1)]),Z]),d("div",H,[d("div",I,[m(we,{justify:"space-between"},{default:p((()=>[d("div",J,[d("div",N,[Q,d("div",W,[m(u,{value:v(fe),"onUpdate:value":l[0]||(l[0]=e=>f(fe)?fe.value=e:fe=e),placeholder:"搜索产品","allow-clear":"",onChange:ge},{prefix:p((()=>[m(n)])),_:1},8,["value"])]),m(s,{ref_key:"anchorRef",ref:de,affix:!1,items:v(ie),"show-ink-in-fixed":"","get-container":pe,"get-current-anchor":()=>`#${v(j)}`,onClick:ve,onChange:me},null,8,["items","get-current-anchor"])])]),m(we,{flex:"1",vertical:""},{default:p((()=>[m(o,{level:2,class:"pl-5"},{default:p((()=>[g(c(v(fe)?"搜索结果":""),1)])),_:1}),m(we,{id:"product-area",vertical:"",align:"flex-start",class:"content-area"},{default:p((()=>[v(fe)?(r(),i("div",X,[(r(!0),i(h,null,C(v(_e),(({submenu:e,sid:l})=>(r(),i(h,{key:l},[(r(!0),i(h,null,C(e,((e,l)=>b((r(),y(be,{key:l,to:{path:null==e?void 0:e.vue_url},class:"card",onClick:l=>v(L).setCheckedMenuGroup(null==e?void 0:e.menu_group)},{default:p((()=>{var l,a,t;return[m(Ce,{text:null==(l=v(ce)[null==e?void 0:e.vue_url])?void 0:l.total_count,class:w({"ant-ribbon-no-text":!(null==(t=null==(a=v(ce))?void 0:a[null==e?void 0:e.vue_url])?void 0:t.total_count)})},{default:p((()=>[d("div",Y,[m(re,{gutter:12,align:"middle",justify:"space-between"},{default:p((()=>[m(ue,null,{default:p((()=>[m(re,{align:"middle"},{default:p((()=>[m(ue,null,{default:p((()=>[d("img",{src:`/images/${null==e?void 0:e.icon}.png`,alt:null==e?void 0:e.menu_name,onError:he},null,40,z)])),_:2},1024),m(ue,null,{default:p((()=>[d("div",K,c(null==e?void 0:e.menu_name),1)])),_:2},1024)])),_:2},1024)])),_:2},1024)])),_:2},1024),d("div",V,c(null==e?void 0:e.menu_describe),1)])])),_:2},1032,["text","class"])]})),_:2},1032,["to","onClick"])),[[k,(null==e?void 0:e.menu_name.toLowerCase().indexOf(v(fe).toLowerCase().trim()))>-1]]))),128))],64)))),128)),v(_e).length?x("",!0):(r(),y(ke,{key:0},{description:p((()=>[g(" 没有找到相关产品 ")])),_:1}))])):(r(!0),i(h,{key:1},C(v(S),(({name:e,cn_name:l})=>(r(),i("div",{key:e,id:e,class:"mt-4 w-full"},[m(ye,null,{default:p((()=>[m(o,{level:3,style:{color:"rgba(0, 0, 0, 0.45)","margin-bottom":"0px"}},{default:p((()=>[g(c(l),1)])),_:2},1024)])),_:2},1024),(r(!0),i(h,null,C(v(se)[e],((e,l)=>(r(),i("div",{key:l,class:"mt-4 pl-5"},[m(o,{level:4},{default:p((()=>[g(c(null==e?void 0:e.menu_name),1)])),_:2},1024),m(we,{class:"product-grid-list",wrap:"wrap",gap:"small"},{default:p((()=>[(r(!0),i(h,null,C(null==e?void 0:e.submenu,((e,l)=>(r(),y(be,{key:l,to:{path:null==e?void 0:e.vue_url},class:"card pr-0",onClick:l=>v(L).setCheckedMenuGroup(null==e?void 0:e.menu_group)},{default:p((()=>{var l,a,t,n;return[m(Ce,{text:null==(a=null==(l=v(ce))?void 0:l[null==e?void 0:e.vue_url])?void 0:a.total_count,class:w({"ant-ribbon-no-text":!(null==(n=null==(t=v(ce))?void 0:t[null==e?void 0:e.vue_url])?void 0:n.total_count)})},{default:p((()=>[d("div",le,[m(re,{gutter:12,align:"middle",justify:"space-between"},{default:p((()=>[m(ue,null,{default:p((()=>[m(re,{align:"middle"},{default:p((()=>[m(ue,null,{default:p((()=>[d("img",{src:`/images/${null==e?void 0:e.icon}.png`,alt:null==e?void 0:e.menu_name,onError:he},null,40,ae)])),_:2},1024),m(ue,null,{default:p((()=>[d("div",te,c(null==e?void 0:e.menu_name),1)])),_:2},1024)])),_:2},1024)])),_:2},1024)])),_:2},1024),d("div",ne,c(null==e?void 0:e.menu_describe),1)])])),_:2},1032,["text","class"])]})),_:2},1032,["to","onClick"])))),128))])),_:2},1024)])))),128))],8,ee)))),128))])),_:1})])),_:1})])),_:1})])])])}}},[["__scopeId","data-v-df989f29"]]);export{ue as default};
