import{a3 as a,H as s,J as t,Q as e,R as l,X as o,F as c,S as n,a6 as r,am as i,$ as u,Y as d,Z as p,c as v,W as m,U as y,ah as _,aV as f,v as h,aY as b,a9 as w,aa as k}from"./index.872a2bd0.js";import{A as x}from"./cloudCdnApi.85d2724e.js";import{_ as g}from"./index.fc9664cf.js";const j={class:"overview-container"},D={class:"summary-box"},C=["onClick"],E={class:"summary-title"},O=["src"],$=(a=>(w("data-v-26fdcf97"),a=a(),k(),a))((()=>o("div",{class:"summary-border"},null,-1))),A={class:"desc-box"},H={class:"desc-title"},P={class:"desc-list"},S={class:"desc-label truncate"},T={class:"desc-value"},Y={key:0},z={style:{color:"#888"}},F={key:1},I=a({__name:"index",setup(a){const w=s({overviewData:{}}),k={total:{label:"总数",color:"#4fb050",icon:"kvstore.png",pointer:!0,name:"cloudCdnPage"},domain_status:{label:"域名状态",color:"#e88250"}},I={environment:{label:"环境分布"},cloud_source:{label:"源站分布"},https_status:{label:"是否开启HTTPS加速"},enterprise_project:{label:"企业项目"}};return t((async()=>{await(async()=>{const a=await x.getOverview({group_by_fields:[["environment"],["cloud_source"],["domain_status"],["https_status"],["enterprise_project"]]});w.overviewData.total=[{total:"总数",count:a.count}],a.group_by.forEach((a=>{let s=a.fields[0],t=a.items.sort(((a,s)=>s.count-a.count));w.overviewData[s]=t}))})(),await(async()=>{let a=w.overviewData;a.https_status.forEach((a=>{a.https_status={0:"未开启",1:"已开启"}[a.https_status]||a.https_status})),Object.entries(a).forEach((([a,s])=>{s.forEach((s=>{s[a]||(s[a]="其他")}))}))})()})),(a,s)=>{const t=f,x=h,J=g,Q=b;return e(),l("div",j,[o("div",D,[(e(),l(c,null,n(k,((s,t)=>o("div",{key:t,class:r(["summary-item",{"cursor-pointer":s.pointer}]),style:i({"--summary-color":s.color}),onClick:t=>s.pointer?a.$router.push({name:s.name}):null},[(e(!0),l(c,null,n(u(w).overviewData[t],((a,n)=>(e(),l(c,{key:n},[o("div",null,[o("div",{class:"summary-value",style:i({"font-size":"total"===t?"32px":""})},d(a.count),5),o("div",E,d(a[t]),1)]),s.icon?(e(),l("img",{key:0,class:"summary-icon",src:`/images/${s.icon}`},null,8,O)):p("",!0),$],64)))),128))],14,C))),64))]),v(Q,{title:"资源分布"},{default:m((()=>[o("div",A,[(e(),l(c,null,n(I,((a,s)=>{var i;return o("div",{key:s,class:"desc-card"},[o("div",H,d(a.label),1),o("div",P,[(e(!0),l(c,null,n(null==(i=u(w).overviewData)?void 0:i[s],(i=>(e(),l("div",{key:i.label,class:r({"two-col":"spec_code"===s})},[v(x,{title:i[s]},{default:m((()=>[o("span",S,[!a.icon||"cloud_source"===s&&"自建"===i.cloud_source?p("",!0):(e(),y(t,{key:0,type:i.cloud_source,style:{width:"22px"}},null,8,["type"])),_(" "+d(i[s])+"： ",1)])])),_:2},1032,["title"]),o("span",T,[i.other_data?(e(),l("span",Y,[v(J,{placement:"right"},{content:m((()=>[(e(!0),l(c,null,n(i.other_data,((c,n)=>(e(),l("div",{key:n},[o("span",z,[a.icon?(e(),y(t,{key:0,type:c.cloud_source,style:{width:"22px"}},null,8,["type"])):p("",!0),_(" "+d(c[s])+": ",1)]),_(" "+d(c.count),1)])))),128))])),default:m((()=>[o("span",null,d(i.count),1)])),_:2},1024)])):(e(),l("span",F,d(i.count),1))])],2)))),128))])])})),64))])])),_:1})])}}},[["__scopeId","data-v-26fdcf97"]]);export{I as default};
