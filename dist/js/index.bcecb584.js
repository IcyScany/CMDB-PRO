import{a3 as e,H as s,J as a,Q as t,R as l,X as c,F as o,S as r,a6 as i,am as n,$ as u,Y as d,Z as m,c as y,W as p,U as v,ah as _,aV as w,v as h,aY as f,a9 as k,aa as b}from"./index.872a2bd0.js";import{A as g}from"./pwdManagementApi.077bb090.js";import{_ as x}from"./index.fc9664cf.js";const S={class:"overview-container"},A={class:"summary-box"},D=["onClick"],K={class:"summary-title"},E=["src"],U=(e=>(k("data-v-cc2c54a7"),e=e(),b(),e))((()=>c("div",{class:"summary-border"},null,-1))),j={class:"desc-box"},P={class:"desc-title"},C={class:"desc-list"},$={class:"desc-label truncate"},H={class:"desc-value"},L={key:0},M={style:{color:"#888"}},O={key:1},T=e({__name:"index",setup(e){const k=s({overviewData:{}}),b={total:{label:"总数",color:"#4fb050",icon:"kvstore.png",pointer:!0,name:"pwdManagementPage"}},T={use_limits:{label:"使用限制"},types:{label:"类型"},share_limits:{label:"共享限制"}};return a((async()=>{await(async()=>{const e=await g.getOverview({group_by_fields:[["use_limits"],["types"],["share_limits"]]});k.overviewData.total=[{total:"总数",count:e.count}],e.group_by.forEach((e=>{let s=e.fields[0],a=e.items.sort(((e,s)=>s.count-e.count));k.overviewData[s]=a}))})(),await(async()=>{let e=k.overviewData,s={Token:"Token",Certificate:"证书","Secret file":"密钥SecretKey","Secret text":"密码Password","Username with password":"用户名Username+密码Password","AccessKey+SecretAccessKey":"AccessKey+SecretAccessKey","SSH Username with private key":"用户名Username+私钥PrivateKey"};e.types.forEach((e=>{e.types=s[e.types]||e.types})),e.share_limits.forEach((e=>{e.share_limits=e.share_limits.includes("ALL")?"公共":"其他"})),Object.entries(e).forEach((([e,s])=>{s.forEach((s=>{s[e]||(s[e]="其他")}))}))})()})),(e,s)=>{const a=w,g=h,Y=x,z=f;return t(),l("div",S,[c("div",A,[(t(),l(o,null,r(b,((s,a)=>c("div",{key:a,class:i(["summary-item",{"cursor-pointer":s.pointer}]),style:n({"--summary-color":s.color}),onClick:a=>s.pointer?e.$router.push({name:s.name}):null},[(t(!0),l(o,null,r(u(k).overviewData[a],((e,r)=>(t(),l(o,{key:r},[c("div",null,[c("div",{class:"summary-value",style:n({"font-size":"total"===a?"32px":""})},d(e.count),5),c("div",K,d(e[a]),1)]),s.icon?(t(),l("img",{key:0,class:"summary-icon",src:`/images/${s.icon}`},null,8,E)):m("",!0),U],64)))),128))],14,D))),64))]),y(z,{title:"资源分布"},{default:p((()=>[c("div",j,[(t(),l(o,null,r(T,((e,s)=>{var n;return c("div",{key:s,class:"desc-card"},[c("div",P,d(e.label),1),c("div",C,[(t(!0),l(o,null,r(null==(n=u(k).overviewData)?void 0:n[s],(n=>(t(),l("div",{key:n.label,class:i({"two-col":"spec_code"===s})},[y(g,{title:n[s]},{default:p((()=>[c("span",$,[!e.icon||"cloud_source"===s&&"自建"===n.cloud_source?m("",!0):(t(),v(a,{key:0,type:n.cloud_source,style:{width:"22px"}},null,8,["type"])),_(" "+d(n[s])+"： ",1)])])),_:2},1032,["title"]),c("span",H,[n.other_data?(t(),l("span",L,[y(Y,{placement:"right"},{content:p((()=>[(t(!0),l(o,null,r(n.other_data,((o,r)=>(t(),l("div",{key:r},[c("span",M,[e.icon?(t(),v(a,{key:0,type:o.cloud_source,style:{width:"22px"}},null,8,["type"])):m("",!0),_(" "+d(o[s])+": ",1)]),_(" "+d(o.count),1)])))),128))])),default:p((()=>[c("span",null,d(n.count),1)])),_:2},1024)])):(t(),l("span",O,d(n.count),1))])],2)))),128))])])})),64))])])),_:1})])}}},[["__scopeId","data-v-cc2c54a7"]]);export{T as default};
