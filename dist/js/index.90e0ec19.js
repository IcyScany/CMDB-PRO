import{al as a,r as e,x as l,I as s,O as t,Q as u,R as d,F as n,S as o,$ as r,U as i,W as p,ah as c,Y as v,cE as y,ad as f,a6 as g,dQ as k,c as m,Z as b,au as h,aj as x}from"./index.872a2bd0.js";const C={__name:"index",props:{tags:{type:Array,default:()=>[]},editable:{type:Boolean,default:!1}},emits:["update:tags"],setup(C,{emit:_}){const $=C,{tags:j,editable:B}=a($),O=_,Q=e(""),S=e(null),U=a=>{"add"===a?(q("add"),s((()=>{S.value=j.value.length-1}))):(S.value=a,Q.value=j.value[a])},q=(a,e)=>{let l=j.value?[...j.value]:[];"add"===a?l.push(""):"del"===a?l.splice(e,1):"edit"===a&&(l[S.value]=Q.value,l=l.filter((a=>a))),O("update:tags",l),Q.value="",S.value=null};return l(S,(a=>{null!==a&&s((()=>{document.querySelector(`.tag-input-${a}`).focus()}))})),(a,e)=>{const l=h,s=x,C=t("PlusOutlined");return u(),d("div",null,[(u(!0),d(n,null,o(r(j),((a,t)=>(u(),d(n,{key:t},[r(S)!==t?(u(),i(l,{key:0,closable:r(B),onClick:a=>U(t),onClose:y((a=>q("del",t)),["prevent"])},{default:p((()=>[c(v(a),1)])),_:2},1032,["closable","onClick","onClose"])):(u(),i(s,{key:1,value:r(Q),"onUpdate:value":e[0]||(e[0]=a=>f(Q)?Q.value=a:null),class:g(`tag-input-${t}`),style:{width:"150px","margin-right":"5px"},size:"small",onBlur:e[1]||(e[1]=a=>q("edit")),onKeyup:e[2]||(e[2]=k(y((a=>q("edit")),["stop"]),["enter"]))},null,8,["value","class"]))],64)))),128)),r(B)?(u(),i(l,{key:0,style:{background:"#fff","border-style":"dashed",cursor:"pointer"},onClick:e[3]||(e[3]=a=>U("add"))},{default:p((()=>[m(C)])),_:1})):b("",!0)])}}};export{C as _};
