import{a3 as a,H as s,J as e,Q as t,R as l,X as i,F as o,S as c,am as n,Y as r,Z as d,$ as u,c as v,W as m,U as y,ah as p,ai as f,aV as _,v as g,aY as w,a9 as b,aa as h}from"./index.872a2bd0.js";import{A as k}from"./cloudCfw.1fb9ad9b.js";import{_ as x}from"./index.fc9664cf.js";const D={class:"overview-container"},j={class:"summary-box"},C=["onClick"],E={class:"summary-title"},L={key:0,class:"summary-icon",src:"/images/kvstore.png"},R=(a=>(b("data-v-ccdd2c0b"),a=a(),h(),a))((()=>i("div",{class:"summary-border"},null,-1))),Y={class:"desc-box"},$={class:"desc-title"},z={class:"desc-list"},A={class:"desc-label truncate"},F={class:"desc-value"},H={key:0},I={style:{color:"#888"}},J={key:1},O=a({__name:"index",setup(a){const b=["#4fb050","#e88250","#3c79bf"],h={0:"防护中",1:"未防护"},O=s({overviewData:{},regionList:[]});return e((async()=>{await(async()=>{const a=await k.getOverview();O.overviewData=a,O.regionList=await f.getCloudRegionList()})(),await(async()=>{let a=O.overviewData;a.section1.forEach((a=>{a.items.forEach((a=>{a.status=h[a.status]||a.status}))})),a.section2.forEach((a=>{var s;"region_id"===(null==(s=a.fields)?void 0:s[0])&&a.items.forEach((a=>{a.region_id?a.region_id=a.region_id.split("、").map((a=>{var s;return(null==(s=O.regionList)?void 0:s[a])||a})).join("，"):a.region_id="其他"}))}))})()})),(a,s)=>{const e=_,f=g,h=x,k=w;return t(),l("div",D,[i("div",j,[(t(!0),l(o,null,c(u(O).overviewData.section1,((s,e)=>(t(),l("div",{key:e,class:"summary-item",style:n({"--summary-color":s.color||b[e%b.length],cursor:0===e?"pointer":"default"}),onClick:s=>0===e?a.$router.push({name:"extranetDomainPage"}):null},[(t(!0),l(o,null,c(s.items,((a,c)=>{var u;return t(),l(o,{key:c},[i("div",null,[i("div",{class:"summary-value",style:n({"font-size":"总数"===s.label?"32px":""})},r(a.count),5),i("div",E,r("总数"===s.label?s.label:a[null==(u=s.fields)?void 0:u[0]]),1)]),0===e?(t(),l("img",L)):d("",!0),R],64)})),128))],12,C)))),128))]),v(k,{title:"资源分布"},{default:m((()=>[i("div",Y,[(t(!0),l(o,null,c(u(O).overviewData.section2,((a,s)=>(t(),l("div",{key:s,class:"desc-card"},[i("div",$,r(a.label),1),i("div",z,[(t(!0),l(o,null,c(a.items,(s=>(t(),l("div",{key:s.label},[v(f,{title:s[a.fields[0]]},{default:m((()=>[i("span",A,["cloud_source"!==a.fields[0]||"自建"!==s.cloud_source?(t(),y(e,{key:0,type:s.cloud_source,style:{width:"22px"}},null,8,["type"])):d("",!0),p(" "+r(s[a.fields[0]])+"： ",1)])])),_:2},1032,["title"]),i("span",F,[s.other_data?(t(),l("span",H,[v(h,{placement:"right"},{content:m((()=>[(t(!0),l(o,null,c(s.other_data,((s,o)=>(t(),l("div",{key:o},[i("span",I,[v(e,{type:s.cloud_source,style:{width:"22px"}},null,8,["type"]),p(" "+r(s[a.fields[0]])+": ",1)]),p(" "+r(s.count),1)])))),128))])),default:m((()=>[i("span",null,r(s.count),1)])),_:2},1024)])):(t(),l("span",J,r(s.count),1))])])))),128))])])))),128))])])),_:1})])}}},[["__scopeId","data-v-ccdd2c0b"]]);export{O as default};
